{"version":3,"sources":["../../src/pages/story-photo/story-photo.ts","../../src/providers/story/story.ts","../../src/providers/chat/chat.service.ts","../../src/pages/chat/chat.ts","../../src/pages/spotted/spotted.ts","../../src/models/user.model.ts","../../src/pages/welcome/welcome.ts","../../node_modules/@angular/core/@angular lazy","../../src/pages/notificacoes/notificacoes.ts","../../src lazy","../../src/providers/user/user.service.ts","../../src/components/canvas-draw/canvas-draw.ts","../../src/providers/auth/auth.service.ts","../../src/pages/botchat/botchat.ts","../../src/models/message.model.ts","../../src/pages/spotted-detalhes/spotted-detalhes.ts","../../src/pages/signup/signup.ts","../../src/pages/clienteLogin/clientelogin.ts","../../src/pages/user-profile/user-profile.ts","../../src/components/base.component.ts","../../src/pages/profissionalLogin/profissionallogin.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/pages/home/home.ts","../../src/providers/base.service.ts","../../src/providers/spotted/spotted.service.ts","../../src/models/story.model.ts","../../src/models/mensagem.model.ts","../../src/providers/environment.ts","../../src/models/chat.model.ts","../../src/models/notificacao.model.ts","../../src/models/spotted.model.ts","../../src/models/comentario.model.ts","../../src/components/progress-bar/progress-bar.ts","../../src/pipes/capitalize/capitalize.ts","../../src/components/custom-logged-header/custom-logged-header.ts","../../src/app/app.component.ts","../../src/components/message-box/message-box.ts","../../src/components/user-menu/user-menu.ts","../../src/components/user-info/user-info.ts","../../src/providers/backbutton/backbutton.ts","../../src/app/app.config.ts","../../src/providers/message/message.service.ts","../../src/pages/stories-list/stories-list.ts","../../src/pages/perfil/perfil.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { StoryService } from './../../providers/story/story';\nimport { UserServiceProvider } from './../../providers/user/user.service';\nimport { CanvasDraw } from './../../components/canvas-draw/canvas-draw';\nimport {Component, ViewChild, Input, Inject} from '@angular/core';\nimport { NavController, NavParams, Platform, AlertController } from 'ionic-angular';\nimport {CameraPreview} from \"@ionic-native/camera-preview\";\nimport { Camera, CameraOptions } from 'ionic-native';\nimport firebase from 'firebase';\nimport { User } from '../../models/user.model';\nimport { Story } from '../../models/story.model';\nimport { HomePage } from '../home/home';\n\n\n@Component({\n  selector: 'page-story-photo',\n  templateUrl: 'story-photo.html',\n})\nexport class StoryPhotoPage {\n\n  currentUser: User;\n\n  //base64 da foto\n  srcPhoto = \"\";\n  caminhoFoto =\"\";\n  //array com as cores\n  availableColours;\n  //modo inicial\n  mode = 'camera';\n  //componente canvas\n  @ViewChild('myCanvasDraw')\n  canvas :CanvasDraw\n\n\n  constructor(public storyService:StoryService,public userService:UserServiceProvider,public navCtrl: NavController, public navParams: NavParams, private cameraPreview : CameraPreview, private platform : Platform,alertCtrl:AlertController) {\n    this.startCamera();\n    this.alertCtrl=alertCtrl;\n    this.userService.currentUser.subscribe(\n      (user: User) => {\n        this.currentUser = user;\n      }\n    )\n  }\n\n  startCamera(){\n\n    try{\n      this.cameraPreview.stopCamera().then(() =>{\n        //console.log(\"camera started\")\n\n      }).catch(e =>{\n        //console.log(\"camera error\")\n      });\n    }catch(e) {\n\n    }\n    // start camera\n    this.cameraPreview.startCamera({x: 0, y: 0, width:this.platform.width(), height: this.platform.height(), toBack: true, previewDrag: false, tapPhoto: true});\n\n  }\n  frontalOuTraseira :boolean = true;\nmudaCamera(){\n   this.frontalOuTraseira = !this.frontalOuTraseira;\n}\n  ionViewDidLoad() {\n    //console.log('ionViewDidLoad StoryPhotoPage');\n  }\n\n  ionViewWillLeave(){\n    this.cameraPreview.stopCamera();\n  }\n\n  /**\n   * Switch from back to front cämera\n   */\n  refresh(){\n    this.cameraPreview.switchCamera();\n  }\n\n  /**\n   * Back button\n   */\n  back(){\n      this.navCtrl.pop()\n  }\n\n\n  //inicia modo brush e slide das cores\n  modeBrush(){\n    this.mode = 'brush'\n    this.availableColours = this.canvas.availableColours;\n  }\n\n  //ao salvar vai adicionar ao feed de Story\n  save(){\n\n  }\n\n  //ao finalizar o desenho na foto\n  done(){\n    this.mode = 'photo';\n  }\n\n  takePicture(){\n\n    var self = this;\n\n    const pictureOpts = {\n      quality: 80\n    }\n\n\n    //tira a foto e coloca modo 'photo'\n    this.cameraPreview.takePicture(pictureOpts).then(base64PictureData =>{\n      self.srcPhoto = base64PictureData;\n    this.caminhoFoto = `data:image/jpeg;base64,${base64PictureData}`\n      this.mode = 'photo';\n\n      self.cameraPreview.hide().then(() => {\n      })\n\n    });\n  }\nalertCtrl:AlertController;\n@Input('useURI') useURI : boolean=true;\n  upFromGallery(sourceType){\n    this.mode = 'gallery';\n    let cameraDirection:number;\n      if(this.frontalOuTraseira){\n        cameraDirection = 1;\n      }else{\n   cameraDirection = 0;\n  }\n  const cameraOptions:CameraOptions = {\n    quality:80,\n    destinationType: Camera.DestinationType.DATA_URL,\n    encodingType: Camera.EncodingType.JPEG,\n    mediaType: Camera.MediaType.PICTURE,\n    correctOrientation:true,\n    cameraDirection:cameraDirection,\n    sourceType:sourceType\n  };\nCamera.getPicture(cameraOptions).then((caminhoFoto)=>{\n  this.srcPhoto = caminhoFoto;\n  this.caminhoFoto = `data:image/jpeg;base64,`+ caminhoFoto;\n},(e)=>{\n  //console.log(e);\n});\n    }\n    upload(){\n     let storageRef =   firebase.storage().ref();\nconst fileName = Math.floor(Date.now()/1000);\nconst imageRef = storageRef.child(`stories/${this.currentUser.$key}/${fileName}.jpeg`);\nimageRef.putString(this.caminhoFoto,firebase.storage.StringFormat.DATA_URL).then((snapshot)=>{\n let story = new Story(snapshot.downloadURL,this.currentUser.$key,this.currentUser.name,this.currentUser.photo,fileName);\n this.storyService.create(story);\n  this.showSuccesfulUploadAlert();\n  this.navCtrl.setRoot(HomePage);\n  //snapshot.downloadURL); \n});\nthis.mode = 'camera';\n}\nshowSuccesfulUploadAlert(){\n  let alert = this.alertCtrl.create({\n    title: 'Enviado',\n    subTitle:'Story enviada com sucesso ',\n    buttons:['OK']\n  });\n  alert.present();\n  this.caminhoFoto=\"\";\n}\n//storage.ref().child(uid).child(img).delete()\n   \n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/story-photo/story-photo.ts","import { AngularFire, FirebaseApp, FirebaseListObservable, FirebaseObjectObservable, FirebaseAuthState } from 'angularfire2';\nimport { UserServiceProvider } from './../user/user.service';\nimport { Injectable, Inject } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport firebase from 'firebase';\nimport { Story } from '../../models/story.model';\nimport { BaseService } from '../base.service';\nimport { User } from '../../models/user.model';\n\n@Injectable()\nexport class StoryService extends BaseService {\n  stories: FirebaseListObservable<Story[]>;\nitems;\n  feeds;\n\n  constructor(public userService:UserServiceProvider,\n    public af: AngularFire, public http: Http, @Inject(FirebaseApp) public firebaseApp: any) {\n    super();\n    this.setStories();\nthis.items = [];\n    this.feeds =\n\n      [/*\n        {\n          id: \"elvis\",\n          photo: \"http://noize.com.br/wp-content/uploads/2015/01/Elvis-Presley-png-version.png\",\n          name: \"Elvis\",\n          link: \"https://ramon.codes\",\n          lastUpdated: 1492665454,\n          items: [\n            StoryService.buildItem(\"ramon-3\", \"video\", 0, \"https://scontent-gru2-2.cdninstagram.com/t50.2886-16/14965218_193969377722724_482497862983221248_n.mp4\", \"https://scontent-gru2-2.cdninstagram.com/t51.2885-15/e15/10597412_455246124639813_1360162248_n.jpg\", '', false, 1492665454)\n          ]\n        },\n        {\n          id: \"gorillaz\",\n          photo: \"https://lh3.googleusercontent.com/xYFz6B9FHMQq7fDOI_MA61gf0sNdzGBbdR7-mZ7i4rEVvE_N-kZEY_A4eP74Imcf8Sq3FYxAgd4eJA=w200\",\n          name: \"Gorillaz\",\n          link: \"\",\n          lastUpdated: 1492665454,\n          items: [\n            StoryService.buildItem(\"gorillaz-1\", \"video\", 0, \"https://instagram.frao1-1.fna.fbcdn.net/t50.2886-16/17886251_1128605603951544_572796556789415936_n.mp4\", \"https://pbs.twimg.com/media/C8VgMQ8WAAE5i9M.jpg:small\", '', false, 1492665454),\n            StoryService.buildItem(\"gorillaz-2\", \"photo\", 3, \"https://pbs.twimg.com/media/C8VgMQ8WAAE5i9M.jpg:large\", \"https://pbs.twimg.com/media/C8VgMQ8WAAE5i9M.jpg:small\", '', false, 1492665454),\n          ]\n        },\n        {\n          id: \"ladygaga\",\n          photo: \"https://lh3.googleusercontent.com/VkANYSL1HOzINPSnzBJRM879b302ShsRwLoKD7mLezgTLvlpHPm_dIVop7mkAQfepze6O5N8rw8l4yM=w200\",\n          name: \"Lady Gaga\",\n          link: \"\",\n          lastUpdated: 1492665454,\n          items: [\n            StoryService.buildItem(\"ladygaga-1\", \"photo\", 5, \"https://pbs.twimg.com/media/C8mtrEMXcAA9KKM.jpg:large\", \"https://pbs.twimg.com/media/C8mtrEMXcAA9KKM.jpg:small\", '', false, 1492665454),\n            StoryService.buildItem(\"ladygaga-2\", \"photo\", 3, \"https://pbs.twimg.com/media/C4t_bxcXAAE3Hwb.jpg:large\", \"https://pbs.twimg.com/media/C4t_bxcXAAE3Hwb.jpg:small\", 'http://ladygaga.com', false, 1492665454),\n          ]\n        },\n        {\n          id: \"starboy\",\n          photo: \"https://lh3.googleusercontent.com/nMxfllzaAmaCCZJEMiKe2EARjyUNItQ-mdgAq6he-LWXwkIWbiiBIHyC3rGiqDu6fgyVK6NnjcgueA=w200\",\n          name: \"The Weeknd\",\n          link: \"\",\n          lastUpdated: 1492665454,\n          items: [\n            StoryService.buildItem(\"starboy-1\", \"photo\", 5, \"https://pbs.twimg.com/media/C6f-dTqVQAAiy1K.jpg:large\", \"https://pbs.twimg.com/media/C6f-dTqVQAAiy1K.jpg:small\", '', false, 1492665454)\n          ]\n        },\n        {\n          id: \"qotsa\",\n          photo: \"https://lh3.googleusercontent.com/nE4grkY8s88P_1mFFA06mGCNshhqtIz4C4y2dV7AZbm0360zopRKDMCYtUHR0uQR2DAfYMRZdA=s180-p-e100-rwu-v1\",\n          name: \"QOTSA\",\n          link: \"\",\n          lastUpdated: 1492665454,\n          items: [\n            StoryService.buildItem(\"qotsa-1\", \"photo\", 10, \"https://pbs.twimg.com/media/C8wTxgUVoAALPGA.jpg:large\", \"https://pbs.twimg.com/media/C8wTxgUVoAALPGA.jpg:small\", '', false, 1492665454)\n          ]\n        }\n\n\n      */      ];\n    let diferencaTempo:number;\n    if(this.stories === undefined){}else{\n      this.stories.forEach(\n        element=>{\n          \n          element.forEach(k=>{ \n      \n            diferencaTempo = Math.floor((Math.floor(Date.now() / 1000)-k.timestamp)/60/60/24) ;\n           //console.log(diferencaTempo,\"dif\");\n            if(diferencaTempo > 1){\n                  let storageRef =   firebase.storage().ref();\n                   storageRef.child(`stories/${k.userId}/${k.timestamp}.jpeg`).delete();   \n                   this.delete(k);\n                 }\n            this.feeds.push({     \n              id: k.$key,\n              photo: k.userPhoto,\n              name:k.userNome,\n              link: \"\",\n              lastUpdated: \tk.timestamp,\n              items: [\n                StoryService.buildItem(`${k.$key}`, \"photo\", 10,k.photo,`${k.photo}:small`, '', false,k.timestamp)\n              ]\n          });\n\n}); \n        }\n      );\n \n    }\n  }\n  diferencaTimestamp(timestamp1, timestamp2) {\n    var difference = timestamp1 - timestamp2;\n    var daysDifference = Math.floor(difference/1000/60/60/24);\n\n    return daysDifference;\n}\n\n  static buildItem(id, type, length, src, preview, link, seen, time) {\n    return {\n      \"id\": id,\n      \"type\": type,\n      \"length\": length,\n      \"src\": src,\n      \"preview\": preview,\n      \"link\": link,\n      \"seen\": seen,\n      \"time\": time\n    };\n  }\n  users: FirebaseListObservable<User[]>;\n  delete(story:Story,/*userId:string*/) : firebase.Promise<void>{\n    return this.af.database.object(`/stories/${story.$key}`).remove().catch(this.handlePromiseError);\n  }\n  getFeed() {\n    return this.feeds;\n  }\n\n  addFeed(obj) {\n    this.feeds.unshift(obj);\n  }\n  get(userId: string): FirebaseObjectObservable<Story> {\n    return <FirebaseObjectObservable<Story>>this.af.database.object(`/stories/${userId}`)\n      .catch(this.handleObservableError);\n  }\n  getAllStories(): FirebaseListObservable<Story[]>{\n    return <FirebaseListObservable<Story[]>> this.af.database.list(`stories/`,{\n      query :{\n        orderByChild: 'timestamp',\n        //limita o numero de mensagens que ira aparecer na tela\n      }\n    }).catch(this.handleObservableError); \n    }\n    getStories(userId1: string): FirebaseListObservable<Story[]>{\n      return <FirebaseListObservable<Story[]>> this.af.database.list(`/stories/${userId1}`,{\n        query :{\n          orderByChild: 'timestamp',\n          //limita o numero de mensagens que ira aparecer na tela\n        }\n      }).catch(this.handleObservableError); \n      }\n      create(story: Story): firebase.Promise<void> {\n        return this.af.database.list(`/stories/`).push(story).catch(this.handlePromiseError);\n      }\n      uploadPhoto(file:File,userId:string) :firebase.storage.UploadTask {\n        return this.firebaseApp.storage().ref().child(`/stories/${userId}`).put(file);\n      }\n      public setStories(): void {\n        this.af.auth.subscribe(\n          (authState: FirebaseAuthState) => {\n            if (authState) {\n              this.stories = <FirebaseListObservable<Story[]>>this.af.database.list(`/stories/`, {\n                query: {\n                  orderByChild: 'timestamp'\n                }\n              }).map((stories: Story[]) => {\n                return stories.reverse();\n              }).catch(this.handleObservableError);\n            }\n          }\n        );\n      }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/story/story.ts","import { AngularFire, FirebaseObjectObservable, FirebaseListObservable, FirebaseAuthState } from 'angularfire2';\nimport { Chat } from './../../models/chat.model';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/first';\nimport { BaseService } from '../base.service';\n\n/*\n  Generated class for the ChatProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class ChatServiceProvider extends BaseService {\n  chats: FirebaseListObservable<Chat[]>;\n\n\n  constructor(public af: AngularFire, public http: Http) {\n    super();\n    //console.log('Hello ChatProvider Provider');\n    this.setChats();\n  }\n  create(chat: Chat, userId1: string, userId2: string): firebase.Promise<void> {\n    //console.log('olocor');\n    //console.log(chat);\n\n    return this.af.database.object(`/chats/${userId1}/${userId2}`).set(chat).catch(this.handlePromiseError);\n  }\n  getDeepChat(userId1: string, userId2: string): FirebaseObjectObservable<Chat> {\n    return <FirebaseObjectObservable<Chat>>this.af.database\n      .object(`/chats/${userId1}/${userId2}`)\n      .catch(this.handleObservableError);\n  }\n  private setChats(): void {\n    this.af.auth.subscribe(\n      (authState: FirebaseAuthState) => {\n        if (authState) {\n          this.chats = <FirebaseListObservable<Chat[]>>this.af.database.list(`/chats/${authState.auth.uid}`, {\n            query: {\n              orderByChild: 'timestamp'\n            }\n          }).map((chats: Chat[]) => {\n            return chats.reverse();\n          }).catch(this.handleObservableError);\n        }\n      }\n    );\n  }\n  updatePhoto(chat: FirebaseObjectObservable<Chat>, chatPhoto: string, recipientUserPhoto: string): firebase.Promise<boolean> {\n    if (chatPhoto != recipientUserPhoto) {\n      return chat.update({\n        photo: recipientUserPhoto\n      }).then(() => {\n        return true;\n      }).catch(this.handlePromiseError);\n    }\n    return Promise.resolve(false);\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat/chat.service.ts","import { HomePage } from './../home/home';\nimport { Notificacao } from './../../models/notificacao.model';\nimport { ChatServiceProvider } from './../../providers/chat/chat.service';\nimport { Chat } from './../../models/chat.model';\nimport { MessageServiceProvider } from './../../providers/message/message.service';\nimport { FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2';\nimport { User } from './../../models/user.model';\nimport { AuthServiceProvider } from './../../providers/auth/auth.service';\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content, MenuController, Platform, AlertController } from 'ionic-angular';\nimport { UserServiceProvider } from '../../providers/user/user.service';\nimport { Message } from '../../models/message.model';\nimport firebase from 'firebase';\nimport { PerfilPage } from '../perfil/perfil';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\n\n\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html',\n})\n/*\n <ion-infinite-scroll (ionInfinite) = \"doInfinite($event)\">\n    <ion-infinite-scroll-content> \n      </ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n*/\nexport class ChatPage {\n  messages: FirebaseListObservable<Message[]>;\n  notificacoes: FirebaseListObservable<Notificacao[]>;\n  pageTitle: string;\n  sender: User;\n  scrou : number = 8;\n  podeir:number = 1;\n  @ViewChild(Content) content :Content;\n  private chat1: FirebaseObjectObservable<Chat>;\n  private chat2: FirebaseObjectObservable<Chat>;\n  recipient: User;\n  constructor(public menuCtrl:MenuController,\n    public alertCtrl :AlertController,\n    private localNotifications:LocalNotifications,\n    public platform:Platform, \n    public chatService: ChatServiceProvider, public messageService: MessageServiceProvider, public userService: UserServiceProvider, public authService: AuthServiceProvider, public navCtrl: NavController, public navParams: NavParams) {\n  \n  }\n  /*\n       <message-box  *ngFor=\"let m of messages | async\" [message]=\"m\" [isFromSender]=\"(m.userId == sender.$key)\">{{m.text}}\n       </message-box>\n  */\n flag;\n  ionViewWillLeave() {\n    this.menuCtrl.enable(true,'user-menu');\n     HomePage.flag = false;\n  }\n  \n  \n\n  ionViewDidLoad() {\n    this.menuCtrl.enable(false,'user-menu');\nHomePage.flag = true;\n //   //console.log('ionViewDidLoad ChatPage');\n \n    this.recipient = this.navParams.get('recipientUser');\n    this.pageTitle = this.recipient.name;\n    this.userService.currentUser.first().subscribe((currentUser: User) => {\n      this.sender = currentUser;\n      \n      this.chat1 = this.chatService.getDeepChat(this.sender.$key, this.recipient.$key);\n      this.chat2 = this.chatService.getDeepChat(this.recipient.$key, this.sender.$key);\nthis.chat1.first().subscribe((chat:Chat)=>{\n  this.chatService.updatePhoto(this.chat1,chat.photo,this.recipient.photo);\n});\n      \n\n      let doSubscription = () =>{\n        this.messages.subscribe((messages:Message[])=>{\n           this.scrollToBottom();          \n          });\n      };\n    \n     \n      this.messages = this.messageService.getMessages(this.sender.$key, this.recipient.$key);\n      this.notificacoes = this.messageService.getAllNotificacoes(this.recipient.$key);\n      \n      this.messages.first().subscribe((messages: Message[]) => {\n        if (messages.length === 0) {\n          this.messages = this.messageService.getMessages(this.recipient.$key, this.sender.$key);\n        doSubscription();\n          \n        }\n        else{\n            doSubscription();\n            }\n      });\n    });\n//    this.scrou = 1;\n\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authService.authenticated;\n  }\n  openPerfil(userId : string){\n    this.userService.get(userId).first().subscribe(\n      (user: User) => {\n        this.navCtrl.push(PerfilPage, {\n          usuario: user\n        });\n      }\n    );\n\n  }\n  sendMessage(newMessage: string): void {\n    //console.log(newMessage);\n    if (newMessage) {\n      //console.log(newMessage);\n      let currentTimestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n      //console.log(this.messages);\n\n      this.messageService.create(new Message(this.sender.$key, newMessage, currentTimestamp), this.messages).\n      then(\n        () =>{\n          this.chat1.update({\n            lastMessage : newMessage,\n            timestamp: currentTimestamp\n          });\n          this.chat2.update({\n            lastMessage : newMessage,\n            timestamp: currentTimestamp\n          });\n          this.messageService.createNotificacao(new Notificacao(this.recipient.$key,this.sender.name,this.sender.$key,this.sender.photo,newMessage,1,false, currentTimestamp), this.notificacoes);\n         \n        }\n      \n      \n      );\n      //console.log(this.messages);\n\n    }\n  }\n\n  private scrollToBottom(duration ?:number):void{\n    setTimeout(()=>{\n      if(this.content._scroll){\n        this.content.scrollToBottom(duration || 0);\n      }\n    },50);\n  }\n  private scrollToTop(duration ?:number):void{\n    setTimeout(()=>{\n      if(this.content._scroll){\n        this.content.scrollToTop(duration || 0);\n      }\n    },50);\n  }\n\n \n  \n doInfinite(infiniteScroll) {\n\n\n  if(infiniteScroll){\n   \n\t\tsetTimeout(() => {\n   \n  this.userService.currentUser.first().subscribe((currentUser: User) => {\n    this.sender = currentUser;\n    this.messageService.loadMoreObjects();\n    this.messages = this.messageService.getMessages(this.sender.$key, this.recipient.$key);\n    this.messages.first().subscribe((messages: Message[]) => {\n  if (messages.length === 0) {\n    this.messages = this.messageService.getMessages(this.recipient.$key, this.sender.$key);\n  }\n  else{\n  }\n});\n});\n\n      infiniteScroll.complete();\n\t\t}, 900);\n  }     \n\n}\n  \n/*\n      <ion-infinite-scroll (ionInfinite)=\"doInfinite($event)\">\n        <ion-infinite-scroll-content></ion-infinite-scroll-content>\n</ion-infinite-scroll>\n\n  doInfinite(): Promise<any> {\n    console.log('Begin async operation');\n\n    return new Promise((resolve) => {\n      setTimeout(() => {\n      \n\n        console.log('Async operation has ended');\n        resolve();\n      }, 500);\n    })\n  }\n  */\n\n/*\ndoInfinite(infiniteScroll){\n  setTimeout(()=>{\n   \n    infiniteScroll.complete();\n  },500);\n}\n*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import { SpottedServiceProvider } from './../../providers/spotted/spotted.service';\nimport { WelcomePage } from './../welcome/welcome';\nimport { HomePage } from './../home/home';\nimport { Observable } from 'rxjs';\nimport { FirebaseAuthState, FirebaseListObservable } from 'angularfire2';\nimport { AuthServiceProvider } from './../../providers/auth/auth.service';\nimport { UserServiceProvider } from './../../providers/user/user.service';\nimport { Component, ChangeDetectorRef, Input } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Loading, LoadingController, AlertController } from 'ionic-angular';\nimport { FormGroup } from '@angular/forms';\nimport { FormBuilder } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport firebase from 'firebase';\nimport { HttpModule } from '@angular/http';\nimport { User } from '../../models/user.model';\nimport { Spotted } from '../../models/spotted.model';\nimport { Camera, CameraOptions } from 'ionic-native';\n\n/**\n* Generated class for the SpottedPage page.\n*\n* See http://ionicframework.com/docs/components/#navigation for more info\n* on Ionic pages and navigation.\n*/\n\n@Component({\n  selector: 'page-spotted',\n  templateUrl: 'spotted.html',\n})\nexport class SpottedPage {\n  spottedForm: FormGroup;\n  currentUser: User;\n  private filePhoto: File;\n  uploadProgress: number;\n  spotted: Spotted;\n  spotteds: FirebaseListObservable<Spotted[]>;\n  keySolicitacao:string;\n professor:string;\n  materia:string;\n  flagSolicitacao:boolean = false ;\n  constructor(public loadingCtrl: LoadingController,\n    public cd: ChangeDetectorRef,\n    public spottedService: SpottedServiceProvider,\n    public alertCtrl: AlertController,\n    public authService: AuthServiceProvider, public userService: UserServiceProvider, public navCtrl: NavController, public navParams: NavParams, public formBuilder: FormBuilder) {\n      this.keySolicitacao = navParams.get('keySolicitacao');\n     this.materia = navParams.get('materia');\n     this.professor = navParams.get('professor');\n     console.log(this.materia,this.professor,this.keySolicitacao);\n     if(this.keySolicitacao === undefined){\n      this.spottedForm = this.formBuilder.group({\n        materia: ['', [Validators.required, Validators.minLength(3),Validators.maxLength(20)]],\n        dificuldadeMateria: ['', [Validators.required]],\n        professor: ['', [Validators.required, Validators.minLength(3),Validators.maxLength(20)]],\n        dificuldadeProfessor: ['', [Validators.required]],\n        conteudo: ['', [Validators.required, Validators.minLength(10)]]\n      });\n      this.flagSolicitacao = true;\n     }else{\n      this.spottedForm = this.formBuilder.group({\n        dificuldadeMateria: ['', [Validators.required]],\n        dificuldadeProfessor: ['', [Validators.required]],\n        conteudo: ['', [Validators.required, Validators.minLength(10)]]\n      });\n      this.flagSolicitacao = false;\n    }\nconsole.log(this.flagSolicitacao);\n\n    \n\n  }\n  openSpotted(): void {\n\n  }\n  ionViewDidLoad() {\n    this.userService.currentUser.subscribe(\n      (user: User) => {\n        this.currentUser = user;\n      }\n    )\n    //console.log('ionViewDidLoad SpottedPage');\n  }\n\n\n\n  onSubmit(): void {\n    let loading: Loading = this.showLoading();\n\nif(this.flagSolicitacao === true){\n  let currentTimestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n  let formSpotted = this.spottedForm.value;\n    let materia: string = formSpotted.materia;\n      let professor: string = formSpotted.professor;\n\n      let dificuldadeMateria: string = formSpotted.dificuldadeMateria;\n      let dificuldadeProfessor: string = formSpotted.dificuldadeProfessor;\n      let conteudo: string = formSpotted.conteudo;\n      this.srcPhoto = '';\n  if(this.flagFoto){\n      let storageRef =   firebase.storage().ref();\n const fileName = Math.floor(Date.now()/1000);\n const imageRef = storageRef.child(`spotteds/${this.currentUser.$key}/${fileName}.jpeg`);\n imageRef.putString(this.caminhoFoto,firebase.storage.StringFormat.DATA_URL).then((snapshot)=>{\n  this.srcPhoto = snapshot.downloadURL;\n });\n}\nthis.spotted = new Spotted(this.currentUser.faculdade,this.currentUser.curso,materia,professor,dificuldadeMateria,dificuldadeProfessor, conteudo,this.srcPhoto,this.currentUser.$key,this.currentUser.name,this.currentUser.photo,0,0,currentTimestamp);\n\n}else{\n  this.spottedService.deleteSolicitacao(this.keySolicitacao);\n  let materia: string = this.materia;\n  let professor: string = this.professor;\n  let currentTimestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n  let formSpotted = this.spottedForm.value;\n      let dificuldadeMateria: string = formSpotted.dificuldadeMateria;\n      let dificuldadeProfessor: string = formSpotted.dificuldadeProfessor;\n      let conteudo: string = formSpotted.conteudo;\n      this.srcPhoto = '';\n  if(this.flagFoto){\n      let storageRef =   firebase.storage().ref();\n const fileName = Math.floor(Date.now()/1000);\n const imageRef = storageRef.child(`spotteds/${this.currentUser.$key}/${fileName}.jpeg`);\n imageRef.putString(this.caminhoFoto,firebase.storage.StringFormat.DATA_URL).then((snapshot)=>{\n  this.srcPhoto = snapshot.downloadURL;\n });\n}\nthis.spotted = new Spotted(this.currentUser.faculdade,this.currentUser.curso,materia,professor,dificuldadeMateria,dificuldadeProfessor, conteudo,this.srcPhoto,this.currentUser.$key,this.currentUser.name,this.currentUser.photo,0,0,currentTimestamp);\n\n}\n      \n this.spottedService.create(this.spotted).then(() => {\n  console.log('spotted criado');\n  this.showSuccesfulUploadAlert(); //snapshot.downloadURL);\n  this.srcPhoto = '';\n          this.filePhoto = undefined;\n          this.uploadProgress = 0;\n          this.navCtrl.setRoot(HomePage);\n          loading.dismiss();\n        }).catch((error: any) => {\n          console.log(error);\n          loading.dismiss();\n          this.showAlert(error);\n        });\n //loading.present(); \n  }//fim do método onSubmit\n\n  private showAlert(message: string): void {\n    this.alertCtrl.create({\n      message: message,\n      buttons: ['OK']\n    }).present();\n  }\n\n\n  private showLoading(): Loading {\n    let loading: Loading = this.loadingCtrl.create({\n      content: 'Carregando...'\n    });\n    loading.present();\n    return loading;\n  }\n  @Input('useURI') useURI : boolean=true;\n  upFromGallery(sourceType){\n    \n  const cameraOptions:CameraOptions = {\n    quality:80,\n    destinationType: Camera.DestinationType.DATA_URL,\n    encodingType: Camera.EncodingType.JPEG,\n    mediaType: Camera.MediaType.PICTURE,\n    correctOrientation:true,\n    sourceType:sourceType\n  };\nCamera.getPicture(cameraOptions).then((caminhoFoto)=>{\n  this.srcPhoto = caminhoFoto;\n  this.caminhoFoto = `data:image/jpeg;base64,`+ caminhoFoto;\n},(e)=>{\n  //console.log(e);\n});\nthis.flagFoto = true;\n    }\n    srcPhoto = \"\";\n    caminhoFoto =\"\";\n    flagFoto:boolean = false;\n showSuccesfulUploadAlert(){\n   let alert = this.alertCtrl.create({\n     title: 'Enviado',\n     subTitle:'Post enviado com sucesso ',\n     buttons:['OK']\n   });\n   alert.present();\n   this.caminhoFoto=\"\";\n }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spotted/spotted.ts","export class User{\r\n    public $key : string;\r\n\r\n    constructor(public name :string,\r\npublic username : string,\r\npublic email: string,\r\npublic distance:number,\r\npublic photo : string,\r\npublic timestampConcordou:string,\r\npublic curso:string,\r\npublic faculdade:string\r\n){\r\n\r\n\r\n}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.model.ts","import { StoriesListPage } from './../stories-list/stories-list';\r\nimport { FirebaseAuthState } from 'angularfire2';\r\nimport { UserServiceProvider } from './../../providers/user/user.service';\r\nimport { StoryPhotoPage } from './../story-photo/story-photo';\r\nimport { SignupPage } from './../signup/signup';\r\nimport { HomePage } from './../home/home';\r\nimport { ClienteLoginPage } from './../clienteLogin/clientelogin';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Platform, LoadingController, App, AlertController, Loading } from 'ionic-angular';\r\nimport { AuthServiceProvider } from '../../providers/auth/auth.service';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { Facebook } from '@ionic-native/facebook';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-welcome',\r\n  templateUrl: 'welcome.html',\r\n})\r\nexport class WelcomePage {\r\n  signinForm: FormGroup;\r\n  isLoggedIn:boolean = false;\r\n  isLoggedSpottedIn:boolean;\r\n\r\n  users: any;\r\n  constructor(\r\n    public loadingCtrl: LoadingController,\r\n    public app: App,\r\n    public userService:UserServiceProvider,\r\n    public fb:Facebook,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams, public alertCtrl: AlertController,\r\n    public authService: AuthServiceProvider, public formBuilder: FormBuilder, \r\n  ) {\r\n//FACEBOOK MÉTODO DE VERIFICAÇÃO SE O USUÁRIO ESTÁ LOGADO\r\nfb.getLoginStatus()\r\n.then(res => {\r\n  ////console.log(res.status);\r\n  if(res.status === \"connect\") {\r\n    this.isLoggedIn = true;\r\n  } else {\r\n    this.isLoggedIn = false;\r\n  }\r\n})\r\n.catch(e => console.log(e)\r\n);\r\n\r\n\r\n\r\n\r\n    let emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n    this.signinForm = this.formBuilder.group({\r\n      email: ['', [Validators.compose([Validators.required, Validators.pattern(emailRegex)])]],\r\n      password: ['', [Validators.required, Validators.minLength(8)]]\r\n    });\r\n\r\n\r\n   }\r\n\r\n   loginFace() {\r\n    const loading = this.loadingCtrl.create({\r\n      duration: 50\r\n    });\r\n    \r\n    loading.onDidDismiss(() => {\r\n//      this.fb.login(['user_likes','public_profile', 'user_friends', 'email','user_friends','user_gender','user_posts','user_birthday','user_events'])\r\n      this.fb.login(['public_profile', 'email'])\r\n      .then(res => {\r\n        if(res.status === \"connected\") {\r\n          this.isLoggedIn = true;\r\n  this.getUserDetail(res.authResponse.userID);\r\n          } else {\r\n          this.isLoggedIn = false;\r\n        }\r\n      })\r\n      .catch(e => {\r\n        alert(e);    \r\n        //console.log('Error logging into Facebook', e)\r\n      }\r\n    );        \r\n    });\r\n    \r\n    loading.present();\r\n\r\n\r\n  }\r\n  logout() {\r\n    this.fb.logout()\r\n      .then( res => this.isLoggedIn = false)\r\n      .catch(e => console.log('Error logout from Facebook', e));\r\n  }\r\n  getUserDetail(userid) {\r\n    const loading2 = this.loadingCtrl.create({\r\n      duration: 50\r\n    });\r\n    \r\n//    this.fb.api(\"/\"+userid+\"/?fields=id,email,relationship_status,name,picture.width(320).height(320).as(picture_large),gender\",[\"public_profile\"])\r\n    this.fb.api(\"/\"+userid+\"/?fields=id,email,name,picture.width(320).height(320).as(picture_large),gender\",[\"public_profile\"])\r\n      .then(res => {\r\n        //console.log(res);\r\n  let formUser = res;\r\n  let email = res.email;\r\n  formUser.photo = res.picture_large.data.url;\r\n  formUser.distance = 100;\r\n  formUser.username = res.email;\r\n  formUser.timestampConcordou = Math.floor(Date.now()/1000);\r\n  delete formUser.picture_large;\r\n  this.userService.emailExists(email).first().subscribe(\r\n    (userExists: boolean) => {\r\n      if(userExists){\r\n        this.authService.signinWithEmail( { email: res.email, password: res.id }).then(\r\n          (isLogged: boolean) => {\r\n            if (isLogged) {\r\n              this.isLoggedSpottedIn = true;\r\n              this.navCtrl.setRoot(HomePage);\r\n            }\r\n            \r\n          }\r\n        ).catch(e=>{\r\n          this.isLoggedSpottedIn = false;\r\n        });     \r\n      }else{\r\n        let alert = this.alertCtrl.create({\r\n          title: 'Confirmar cadastro',\r\n          message: '<p>Você aceita os termos de uso?</p>',\r\n              buttons: [\r\n           \r\n            {\r\n              text: 'Sim',\r\n              handler: () => {\r\n                let alert2 = this.alertCtrl.create({\r\n                  title: 'Complete o cadastro',\r\n                  inputs: [\r\n                    {\r\n                      name: 'faculdade',\r\n                      placeholder: 'Digite sua universidade'\r\n                    },\r\n                    {\r\n                      name: 'curso',\r\n                      placeholder: 'Digite o curso'\r\n                    }\r\n                  ],\r\n                      buttons: [\r\n                       \r\n                    {\r\n                      text: 'Enviar',\r\n                      handler: data => {\r\n               formUser.curso = data.curso;\r\n               formUser.faculdade = data.faculdade;\r\n               let loading: Loading = this.showLoading();\r\n\r\n                this.authService.createAuthUser({\r\n                  email: formUser.email,\r\n                  password: formUser.id\r\n                }).then((authState: FirebaseAuthState) => {\r\n                  delete formUser.id;\r\n                  let uuid: string = authState.auth.uid;\r\n                  this.userService.create(formUser, uuid).then(() => {\r\n                    //console.log('usuario cadastrado');\r\n                    loading.dismiss();\r\n                    this.navCtrl.setRoot(HomePage);\r\n                  }).catch((error: any) => {\r\n                    //console.log(error);\r\n                    this.showAlert(\"Erro no cadastro\");\r\n                  }).catch((error: any) => {\r\n                    this.showAlert(\"Erro no cadastro\");\r\n                    //console.log(error);\r\n                 //   this.showAlert(error);\r\n                  });\r\n                });    \r\n                \r\n\r\n\r\n                        }\r\n                    }\r\n                    \r\n                  ]\r\n                });\r\n                alert2.present();   \r\n            }\r\n            }\r\n            ,{\r\n              text: 'Não',\r\n              role: 'cancel',\r\n              handler: () => {\r\n                console.log('Cancel clicked');\r\n              }\r\n            }, {\r\n              text: 'Ver termos',\r\n              handler: () => {\r\n                this.navCtrl.push(StoriesListPage);\r\n              }\r\n            }\r\n          ]\r\n        });\r\n        alert.present();\r\n\r\n        }  \r\n    });\r\n        this.users = res;\r\n      })\r\n      .catch(e => {\r\n        //console.log(e);\r\n      })      \r\n      ;\r\n      loading2.present();\r\n\r\n  }\r\n  \r\n   onSubmit(): void {\r\n    let loading: Loading = this.showLoading();\r\n    this.authService.signinWithEmail(this.signinForm.value).then(\r\n      (isLogged: boolean) => {\r\n        if (isLogged) {\r\n          this.navCtrl.setRoot(HomePage);\r\n          loading.dismiss();\r\n        }\r\n      }\r\n    ).catch(\r\n      (error: any) => {\r\n        loading.dismiss();\r\n        this.showAlert(error);\r\n      });\r\n  }\r\n\r\n  onHomePage(): void {\r\n    this.navCtrl.push(HomePage).then(\r\n      (hasAccess: boolean) => {\r\n        //console.log('Autorizado : ', hasAccess);\r\n      }\r\n    ).catch(err => {\r\n      //console.log('Não Autorizado : ', err);\r\n    });\r\n  }\r\n\r\n\r\n  onLogout(): void {\r\n    this.authService.logout();\r\n  }\r\n  private showAlert(message: string): void {\r\n    this.alertCtrl.create({\r\n      message: message,\r\n      buttons: ['OK']\r\n    }).present();\r\n  }\r\n\r\n\r\n  private showLoading(): Loading {\r\n    let loading: Loading = this.loadingCtrl.create({\r\n      content: 'Carregando...'\r\n    });\r\n    loading.present();\r\n    return loading;\r\n  }\r\n\r\nionViewDidLoad(){\r\n  this.navCtrl.setRoot(HomePage).then(\r\n    (hasAccess: boolean) => {\r\n      console.log('Autorizado : ', hasAccess);\r\n    }\r\n  ).catch(err => {\r\n    console.log('Não Autorizado : ', err);\r\n  });\r\n}\r\n\r\n\r\n \r\n\r\n  // Gradient logic from https://codepen.io/quasimondo/pen/lDdrF\r\n  // NOTE: I'm not using this logic anymore, but if you want to use somehow, somewhere,\r\n  // A programmatically way to make a nice rainbow effect, there you go.\r\n  // NOTE: It probably won't work because it will crash your phone as this method is heavy \\o/\r\n  colors = new Array(\r\n    [62, 35, 255],\r\n    [11, 57, 66],\r\n    [255, 35, 98],\r\n    [45, 175, 230],\r\n    [255, 0, 255],\r\n    [255, 128, 0]);\r\n\r\n  step = 0;\r\n  // color table indices for:\r\n  // [current color left,next color left,current color right,next color right]\r\n  colorIndices = [0, 1, 2, 3];\r\n\r\n  // transition speed\r\n  gradientSpeed = 0.00005;\r\n  gradient = '';\r\n\r\n  updateGradient() {\r\n\r\n    const c00 = this.colors[this.colorIndices[0]];\r\n    const c01 = this.colors[this.colorIndices[1]];\r\n    const c10 = this.colors[this.colorIndices[2]];\r\n    const c11 = this.colors[this.colorIndices[3]];\r\n\r\n    const istep = 1 - this.step;\r\n    const r1 = Math.round(istep * c00[0] + this.step * c01[0]);\r\n    const g1 = Math.round(istep * c00[1] + this.step * c01[1]);\r\n    const b1 = Math.round(istep * c00[2] + this.step * c01[2]);\r\n    const color1 = 'rgb(' + r1 + ',' + g1 + ',' + b1 + ')';\r\n\r\n    const r2 = Math.round(istep * c10[0] + this.step * c11[0]);\r\n    const g2 = Math.round(istep * c10[1] + this.step * c11[1]);\r\n    const b2 = Math.round(istep * c10[2] + this.step * c11[2]);\r\n    const color2 = 'rgb(' + r2 + ',' + g2 + ',' + b2 + ')';\r\n\r\n    this.gradient = `-webkit-gradient(linear, left top, right bottom, from(${color1}), to(${color2}))`;\r\n    this.step += this.gradientSpeed;\r\n    if (this.step >= 1) {\r\n      this.step %= 1;\r\n      this.colorIndices[0] = this.colorIndices[1];\r\n      this.colorIndices[2] = this.colorIndices[3];\r\n\r\n      // pick two new target color indices\r\n      // do not pick the same as the current one\r\n      this.colorIndices[1] =\r\n        (this.colorIndices[1] + Math.floor(1 + Math.random() * (this.colors.length - 1)))\r\n        % this.colors.length;\r\n\r\n      this.colorIndices[3] =\r\n        (this.colorIndices[3] + Math.floor(1 + Math.random() * (this.colors.length - 1)))\r\n        % this.colors.length;\r\n\r\n    }\r\n\r\n    setInterval(() => { this.updateGradient(); }, 10);\r\n  }\r\nirCliente() : void{\r\n  this.navCtrl.push(ClienteLoginPage);\r\n}\r\nirCadastro() : void{\r\n  this.navCtrl.push(SignupPage);\r\n}\r\n\r\ntestarPhoto():void{\r\n  this.navCtrl.push(StoryPhotoPage);\r\n\r\n}\r\nirHome() : void{\r\n  this.navCtrl.push(HomePage);\r\n}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 173;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 173\n// module chunks = 1","import { HomePage } from './../home/home';\nimport { MessageServiceProvider } from './../../providers/message/message.service';\nimport { FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2';\nimport { User } from './../../models/user.model';\nimport { AuthServiceProvider } from './../../providers/auth/auth.service';\nimport { Component, ViewChild } from '@angular/core';\nimport {  NavController, NavParams, Content, MenuController } from 'ionic-angular';\nimport { UserServiceProvider } from '../../providers/user/user.service';\nimport firebase from 'firebase';\nimport { Notificacao } from '../../models/notificacao.model';\nimport { ChatPage } from '../chat/chat';\n\n\n@Component({\n  selector: 'page-notificacoes',\n  templateUrl: 'notificacoes.html',\n})\nexport class NotificacoesPage {\n  notificacoes: FirebaseListObservable<Notificacao[]>;\n  pageTitle: string;\n  scrou : number = 8;\n  sender: User;\n\n  podeir:number = 1;\n  @ViewChild(Content) content :Content;\n  constructor(public menuCtrl:MenuController, public messageService: MessageServiceProvider, public userService: UserServiceProvider, public authService: AuthServiceProvider, public navCtrl: NavController, public navParams: NavParams) {\n  }\n  ionViewWillLeave() {\n    this.menuCtrl.enable(true,'user-menu');\n  }\n  ionViewDidLoad() {/*\n    this.menuCtrl.enable(false,'user-menu');\n\n    this.userService.currentUser.first().subscribe((currentUser: User) => {\n      this.sender = currentUser;\n      \n     \n      \n\n      let doSubscription = () =>{\n        this.notificacoes.subscribe((notificacoes:Notificacao[])=>{\n          notificacoes.forEach(n=>{\n          if(!n.lida){ \n            this.messageService.editNotificacao(n);\n            this.scrollToTop();          \n          }\n          });\n          });\n      };\n    \n     \n      this.notificacoes = this.messageService.getNotificacoes(this.sender.$key);\n      this.notificacoes.first().subscribe((notificacoes: Notificacao[]) => {\n        if (notificacoes.length === 0) {\n          this.notificacoes = this.messageService.getNotificacoes(this.sender.$key);\n        doSubscription();\n          \n        }\n        else{\n            doSubscription();\n            }\n      });\n    });\n//    this.scrou = 1;\n*/\n\n  }\nvisualizar(notificacao:Notificacao){\n  let recipientUserId: string = notificacao.senderKey;\n    this.userService.get(recipientUserId).first().subscribe(\n      (user: User) => {\n        this.navCtrl.push(ChatPage, {\n          recipientUser: user\n        });\n      }\n    );\n  }\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authService.authenticated;\n  }\n \n  \n  private scrollToTop(duration ?:number):void{\n    setTimeout(()=>{\n      if(this.content._scroll){\n        this.content.scrollToTop(duration || 0);\n      }\n    },50);\n  }\n\n \n  \n doInfinite(infiniteScroll) {\n\n\n  if(infiniteScroll){\n   \n\t\tsetTimeout(() => {\n   \n  this.userService.currentUser.first().subscribe((currentUser: User) => {\n    this.sender = currentUser;\n    this.messageService.loadMoreObjects();\n    this.notificacoes = this.messageService.getNotificacoes(this.sender.$key);\n    this.notificacoes.first().subscribe((notificacoes: Notificacao[]) => {\n  if (notificacoes.length === 0) {\n    this.notificacoes = this.messageService.getNotificacoes(this.sender.$key);\n  }\n  else{\n  }\n});\n});\n\n      infiniteScroll.complete();\n\t\t}, 900);\n  }     \n\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notificacoes/notificacoes.ts","var map = {\n\t\"../pages/welcome/welcome.module\": [\n\t\t777,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 239;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 239\n// module chunks = 1","import { Platform } from 'ionic-angular';\nimport { User } from './../../models/user.model';\nimport { Injectable, Inject } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { AngularFire, FirebaseListObservable, FirebaseObjectObservable, FirebaseAuthState, FirebaseApp } from 'angularfire2';\nimport { BaseService } from '../base.service';\nimport { Observable } from 'rxjs/Observable';\n\n\n//import * as firebase from 'firebase';\n/*\n  Generated class for the UserProvider provider.\n \n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class UserServiceProvider extends BaseService {\n\n\n\n  users: FirebaseListObservable<User[]>;\n  currentUser: FirebaseObjectObservable<User>;\n\n  constructor(public af: AngularFire,\n    public platform:Platform,\n    /*@Inject(FirebaseApp) public firebaseApp: firebase.app.App*/\n    @Inject(FirebaseApp) public firebaseApp: any,  public http: Http) {\n    super();\n      // nao precisa mais   this.users = this.af.database.list(`/users`);\n    this.listenAuthState();\n  }\n\n  \n  \n\n  private listenAuthState(): void {\n    this.af.auth.subscribe(\n      (authState: FirebaseAuthState) => {\n        if (authState) {\n          this.currentUser = this.af.database.object(`/users/${authState.auth.uid}`);\n        // this.setUsersPerto(this.arrayUsuariosDistantes);\n        //console.log(\"usersprovider\");\n          this.setUsers(authState.auth.uid);\n        }\n      }\n    );\n  }\n\n  private setUsers(uidToExclude: string): void {\n    this.users = <FirebaseListObservable<User[]>>this.af.database.list(`users`, {\n      query: {\n        orderByChild: 'name'\n      }\n    }).map((users: User[]) => {\n      return users.filter((user: User) => user.$key !== uidToExclude);\n    });\n  }\n\n  get(userId: string): FirebaseObjectObservable<User> {\n    return <FirebaseObjectObservable<User>>this.af.database.object(`/users/${userId}`)\n      .catch(this.handleObservableError);\n  }\n\n  create(user: User, uuid: string): firebase.Promise<void> {\n    //   return this.af.database.list(`/users`).push(user);\n    //return this.users.push(user); \n    return this.af.database.object(`/users/${uuid}`).set(user).catch(this.handlePromiseError);\n  }\nedit(user:{name:string,distance:number,curso:string,faculdade:string,photo:string}) : firebase.Promise<void>{\n  return this.currentUser.update(user).catch(this.handlePromiseError);\n}\n\nuploadPhoto(file:File,userId:string) :firebase.storage.UploadTask {\n  return this.firebaseApp.storage().ref().child(`/users/${userId}`).put(file);\n}\n\n  /* // OUTRO MODO DE FAZER\n  ref = firebase.database().ref('users/');\n  \n  create(user:User) {\n   let newData = this.ref.push();\n   newData.set(user);\n  }\n  \n  \n  */\n  userExists(username: string): Observable<boolean> {\n    return this.af.database.list(`/users`, {\n      query: {\n        orderByChild: 'username',\n        equalTo: username\n      }\n    }).map((users: User[]) => {\n      return users.length > 0;\n    }).catch(this.handleObservableError);\n  }\n  emailExists(email: string): Observable<boolean> {\n    return this.af.database.list(`/users`, {\n      query: {\n        orderByChild: 'email',\n        equalTo: email\n      }\n    }).map((users: User[]) => {\n      return users.length > 0;\n    }).catch(this.handleObservableError);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.service.ts","import {Component, ViewChild, Renderer, Input} from '@angular/core';\nimport {Platform} from 'ionic-angular';\n\n@Component({\n  selector: 'canvas-draw',\n  templateUrl: 'canvas-draw.html'\n})\nexport class CanvasDraw {\n\n  @ViewChild('myCanvas') canvas: any;\n\n  canvasElement: any;\n  lastX: number;\n  lastY: number;\n\n  @Input()\n  src;\n\n  currentColour: string = '#1abc9c';\n  availableColours: any;\n\n  modeBush = false;\n  brushSize: number = 10;\n\n  constructor(public platform: Platform, public renderer: Renderer) {\n    //console.log('Hello CanvasDraw Component');\n\n    this.availableColours = [\n      \"#FFFFFF\",\n      \"#000000\",\n      '#3897F0',\n      '#70C050',\n      '#FDCB5C',\n      '#FD8D32',\n      '#ED4956',\n      '#D10869',\n      '#A307BA',\n      \"#ED0013\",\n      \"#ED858E\",\n      \"#FFD2D3\",\n      \"#FFC382\",\n      \"#D28F46\",\n      \"#996439\",\n      \"#432324\",\n      \"#1C4A29\"\n\n    ];\n\n  }\n\n  ngAfterViewInit() {\n\n    this.canvasElement = this.canvas.nativeElement;\n\n    var ctx = this.canvasElement.getContext(\"2d\");\n    // ctx.drawImage(this.src,0,0, this.platform.width(), this.platform.height() );\n    var self = this;\n    var image = new Image();\n    image.onload = function () {\n      ctx.drawImage(image, 0, 0, self.platform.width(), self.platform.height());\n    };\n    image.src = this.src;\n\n    this.renderer.setElementAttribute(this.canvasElement, 'width', this.platform.width() + '');\n    this.renderer.setElementAttribute(this.canvasElement, 'height', this.platform.height() + '');\n\n  }\n\n  initModeBrush() {\n    this.modeBush = true\n  }\n\n  changeColour(colour) {\n    this.currentColour = colour;\n  }\n\n  changeSize(size) {\n    this.brushSize = size;\n  }\n\n  handleStart(ev) {\n\n    this.lastX = ev.touches[0].pageX;\n    this.lastY = ev.touches[0].pageY;\n  }\n\n  handleMove(ev) {\n    let currentX = ev.touches[0].pageX;\n    let currentY = ev.touches[0].pageY;\n\n    if (this.modeBush) {\n      let ctx = this.canvasElement.getContext('2d');\n\n\n      ctx.beginPath();\n      ctx.lineJoin = \"round\";\n      ctx.moveTo(this.lastX, this.lastY);\n      ctx.lineTo(currentX, currentY);\n      ctx.closePath();\n      ctx.strokeStyle = this.currentColour;\n      ctx.lineWidth = this.brushSize;\n      ctx.stroke();\n\n\n    }\n\n    this.lastX = currentX;\n    this.lastY = currentY;\n\n\n  }\n\n  clearCanvas() {\n    let ctx = this.canvasElement.getContext('2d');\n    ctx.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/canvas-draw/canvas-draw.ts","import { Facebook } from '@ionic-native/facebook';\nimport { AngularFireAuth,AngularFire, FirebaseAuthState } from 'angularfire2';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/first';\nimport { BaseService } from '../base.service';\n\n/*\n  Generated class for the AuthProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class AuthServiceProvider extends BaseService {\nauthenticatedref  = this.auth;\nuserId: string; // current user uid\n\n  constructor(public auth: AngularFireAuth, public af: AngularFire,public http: Http) {\n    super();\n    this.auth\n            .do(user => {\n              if (user) {\n                 this.userId = user.uid\n                 this.updateOnConnect()\n              }\n\n            })\n        .subscribe();\n    //console.log('Hello AuthProvider Provider');\n  }\n  createAuthUser(user: { email: string, password: string }): firebase.Promise<FirebaseAuthState> {\n    return this.auth.createUser(user).catch(this.handlePromiseError);\n  }\n  \nsigninWithEmail(user:{email:string,password:string}): firebase.Promise<boolean>{\nreturn this.auth.login(user).then(\n  (authState : FirebaseAuthState) => {\n    return authState != null;\n  }).catch(this.handlePromiseError);\n}\nfacebookLogin(fb :Facebook): Promise<any> {\n  return fb.login(['email'])\n    .then( response => {\n      const facebookCredential = firebase.auth.FacebookAuthProvider\n        .credential(response.authResponse.accessToken);\n\n      firebase.auth().signInWithCredential(facebookCredential)\n        .then( success => { \n          console.log(\"Firebase success: \" + JSON.stringify(success)); \n        });\n\n    }).catch((error) => { console.log(error) });\n}\n\nlogout() : Promise<void>{\n  return this.auth.logout();\n}\nget authenticated(): Promise<boolean> {\n  return new Promise(\n    (resolve,reject) => {\n      //console.log(this.auth);\n      this.auth\n      .first().\n      subscribe((authState : FirebaseAuthState)=>{\n      (authState) ? resolve(true): reject(false);\n    });\n  });\n}\nprivate updateOnConnect() {\n  return this.af.database.object('.info/connected')\n                .do(connected => {\n                    let status = connected.$value ? 'online' : 'offline'\n                    this.updateStatus(status)\n                })\n                .subscribe()\n}\nprivate updateStatus(status: string) {\n  if (!this.userId) return\n  this.af.database.object(`users/` + this.userId).update({ status: status })\n}\n/*\nprivate updateOnDisconnect() {\n  this.af.database.object(`users/${this.userId}`)\n          .onDisconnect()\n          .update({status: 'offline'})\n}\n*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content } from 'ionic-angular';\nimport { Mensagem } from '../../models/mensagem.model';\nimport firebase from 'firebase';\nimport { ApiAiClient } from 'api-ai-javascript';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { environment } from '../../providers/environment';\nimport { Observable } from 'rxjs/Observable';\n\n/**\n * Generated class for the BotchatPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n\n@Component({\n  selector: 'page-botchat',\n  templateUrl: 'botchat.html',\n})\nexport class BotchatPage {\n  @ViewChild(Content) content: Content;\n\n//  mensagens: Mensagem[] = [];\n  mensagens: Observable<Mensagem[]> ;\n  \n  readonly token = environment.dialogflow.angularBot;\n\n  readonly client = new ApiAiClient({ accessToken: this.token });\n  conversation = new BehaviorSubject<Mensagem[]>([]);\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n   /* let currentTimestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n    const botMessage = new Mensagem('Olá, eu sou a juana, você quer ser minha amiguinha?','Usuario',currentTimestamp);\n    this.mensagens.push(botMessage); \n  */\n  }\n\n  converse(msg: string) {\n    let currentTimestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n    const userMessage = new Mensagem(msg, 'user',currentTimestamp);\n    this.update(userMessage);\n\n    return this.client.textRequest(msg)\n               .then(res => {\n                  const speech = res.result.fulfillment.speech;\n                  const botMessage = new Mensagem(speech, 'Eva',currentTimestamp);\n                  this.update(botMessage);\n                  this.scrollToBottom();\n               });\n  }\n  update(msg: Mensagem) {\n    this.conversation.next([msg]);\n  }\n  scrollToBottom() {\n    setTimeout(() => {\n      this.content.scrollToBottom();\n    });\n  }\n  ionViewDidLoad() {\n    this.mensagens = this.conversation.asObservable()\n    .scan((acc, val) => acc.concat(val) );\n    //console.log('ionViewDidLoad BotchatPage');\n  }\n\n  sendMessage(newMessage:string) :void {\n     if(newMessage){\n      this.converse(newMessage);\n/*\n let currentTimestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n   const botMessage = new Mensagem(newMessage,'user',currentTimestamp);\n   this.mensagens.push(botMessage);\n     */   } \n }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/botchat/botchat.ts","\r\nexport class Message{\r\n    myRenderer;\r\n\r\n    constructor(public userId : string ,public text : string,public timestamp : any){\r\n        \r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/message.model.ts","import { SpottedServiceProvider } from './../../providers/spotted/spotted.service';\nimport { Spotted } from './../../models/spotted.model';\nimport { Content,ActionSheetController, NavController, NavParams } from 'ionic-angular';\nimport { Component, ViewChild } from '@angular/core';\nimport { FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2';\nimport { User } from '../../models/user.model';\nimport firebase from 'firebase';\nimport { Comentario } from '../../models/comentario.model';\nimport { UserServiceProvider } from '../../providers/user/user.service';\nimport { PerfilPage } from '../perfil/perfil';\n\n\n@Component({\n  selector: 'page-spotted-detalhes', \n  templateUrl: 'spotted-detalhes.html',\n}) \nexport class SpottedDetalhesPage {\n \n  data : any;\n\nheaderImage:any = \"assets/images/background-small/33.jpg\";\nusernameAtual:string;\nphoto:string;\nnumerodecomentarios:number;\n\nactive: boolean = true;\n\n\n  constructor(public actionSheetCtrl:ActionSheetController,public userService: UserServiceProvider,public navCtrl: NavController,public spottedService:SpottedServiceProvider, public navParams: NavParams) {\n    this.data = navParams.get('spotted');\nthis.numerodecomentarios =    this.data.numComentarios;\n    this.userService.currentUser.first().subscribe(\n      (currentUser: User) =>{ \n        this.chaveUsuarioAtual = currentUser.$key;\n        this.usernameAtual = currentUser.name;\n        this.photo = currentUser.photo; \n         }   )\n this.comentarios = this.spottedService.getComentarios(this.data.$key);\n\n  }\napresentarActionSheet(){\n  const actionSheet =  this.actionSheetCtrl.create({\n    title:\"Opções\",\n    enableBackdropDismiss:true,\n    buttons:[\n      \n      {\n        text:\"Denunciar\",\n        handler:()=>{\n          \n          console.log('clicou em editar');\n        }\n      }\n    ]\n  });\n  actionSheet.present();\n}\n\n  ionViewDidLoad() {\n    this.spotted1 = this.spottedService.retornaObjetoSpotted(this.data);     }\n  \n  comentar(newComentario: string): void {\n    this.numerodecomentarios++;\n    //console.log(newComentario);\n    if (newComentario) {\n      //console.log(newComentario);\n      let currentTimestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n      //console.log(this.comentarios);\n//console.log(this.photo);\n//console.log(new Comentario(this.chaveUsuarioAtual, newComentario, currentTimestamp,this.usernameAtual,this.photo));\n\n      this.spottedService.comentar(new Comentario(this.chaveUsuarioAtual, newComentario,this.usernameAtual,this.photo,currentTimestamp),this.data.$key).\n      then(\n        () =>{\n          this.spotted1.update({\n            lastComentario : newComentario,\n            numComentarios : this.numerodecomentarios,\n            timestampUltimoComentario: currentTimestamp\n          });\n         \n        });\n      //console.log(this.comentarios);\n\n    }\n  }\n  comentarios: FirebaseListObservable<Comentario[]>;\n  chaveUsuarioAtual: string;\n  private spotted1: FirebaseObjectObservable<Spotted>;\n\n  openPerfil(userId : string){\n    this.userService.get(userId).first().subscribe(\n      (user: User) => {\n        this.navCtrl.push(PerfilPage, {\n          usuario: user\n        });\n      }\n    );\n\n  }\n\n\n  \n\n}\n\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spotted-detalhes/spotted-detalhes.ts","import { StoriesListPage } from './../stories-list/stories-list';\r\nimport { HomePage } from './../home/home';\r\nimport { FirebaseAuthState } from 'angularfire2';\r\nimport { AuthServiceProvider } from './../../providers/auth/auth.service';\r\nimport { UserServiceProvider } from './../../providers/user/user.service';\r\nimport { Component } from '@angular/core';\r\nimport {  NavController, NavParams, Loading, LoadingController, AlertController, IonicPage } from 'ionic-angular';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { Validators } from '@angular/forms';\r\nimport firebase from 'firebase';\r\n\r\n/**\r\n* Generated class for the SignupPage page.\r\n*\r\n* See http://ionicframework.com/docs/components/#navigation for more info\r\n* on Ionic pages and navigation.\r\n*/\r\n\r\n@Component({\r\n  selector: 'page-signup',\r\n  templateUrl: 'signup.html',\r\n})\r\nexport class SignupPage {\r\n  usuarioFace:any ;\r\n  emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n  signupForm: FormGroup\r\n  constructor(public loadingCtrl: LoadingController, public alertCtrl: AlertController,\r\n    public authService: AuthServiceProvider, public userService: UserServiceProvider, public navCtrl: NavController, public navParams: NavParams, public formBuilder: FormBuilder) {\r\n      this.usuarioFace = navParams.get('usuarioFace');\r\n      \r\n      //console.log(this.usuarioFace,\"USUARIO FACE\");\r\n      this.signupForm = this.formBuilder.group({\r\n      name: ['', [Validators.required, Validators.minLength(3)]],\r\n      curso: ['', [Validators.required, Validators.minLength(3)]],\r\n      faculdade: ['', [Validators.required, Validators.minLength(3)]],\r\n      email: ['', [Validators.compose([Validators.required, Validators.pattern(this.emailRegex)])]],\r\n      password: ['', [Validators.required, Validators.minLength(8)]],\r\n      termos: [false,Validators.pattern('true')],\r\n\r\n    });\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    //console.log('ionViewDidLoad SignupPage');\r\n  \r\n  }\r\n  openTermos(){\r\n    this.navCtrl.push(StoriesListPage);\r\n  }\r\nLoginFacebook(){\r\n  let loading: Loading = this.showLoading();\r\n  let formUser = this.usuarioFace;\r\n  let curso = this.usuarioFace.name.replace(/^\\s+|\\s+$/g,\"\");\r\n  formUser.photo = this.usuarioFace.picture.data.url;\r\n  formUser.distance = 100;\r\n  delete formUser.picture;\r\n\r\n  this.userService.emailExists(formUser.email).first().subscribe(\r\n    (userExists: boolean) => {\r\n        this.authService.createAuthUser({\r\n          email: formUser.email,\r\n          password: formUser.id\r\n        }).then((authState: FirebaseAuthState) => {\r\n          delete formUser.id;\r\n          let uuid: string = authState.auth.uid;\r\n          this.userService.create(formUser, uuid).then(() => {\r\n            //console.log('usuario cadastrado');\r\n            this.navCtrl.setRoot(HomePage);\r\n            loading.dismiss();\r\n          }).catch((error: any) => {\r\n            //console.log(error);\r\n            loading.dismiss();\r\n            this.showAlert(error);\r\n          }).catch((error: any) => {\r\n            //console.log(error);\r\n            loading.dismiss();\r\n            this.showAlert(error);\r\n          });\r\n\r\n        });\r\n        //console.log(\"testando form\");\r\n      \r\n    });\r\n\r\n}\r\n\r\n  onSubmit(): void {\r\n    let loading: Loading = this.showLoading();\r\n    let formUser = this.signupForm.value;\r\n    formUser.photo = '';\r\n    formUser.timestampConcordou = firebase.database.ServerValue.TIMESTAMP;\r\n        formUser.distance = 99;\r\n    //this.userService.userExists(curso).take(1).subscribe(\r\n\r\n    this.userService.emailExists(formUser.email).first().subscribe(\r\n      (userExists: boolean) => {\r\n        if (!userExists) {\r\n          this.authService.createAuthUser({\r\n            email: formUser.email,\r\n            password: formUser.password\r\n          }).then((authState: FirebaseAuthState) => {\r\n            delete formUser.password;\r\n            let uuid: string = authState.auth.uid;\r\n            this.userService.create(formUser, uuid).then(() => {\r\n              //console.log('usuario cadastrado');\r\n              this.navCtrl.setRoot(HomePage);\r\n              loading.dismiss();\r\n            }).catch((error: any) => {\r\n              //console.log(error);\r\n              loading.dismiss();\r\n              this.showAlert(error);\r\n            }).catch((error: any) => {\r\n              ////console.log(error);\r\n              loading.dismiss();\r\n              this.showAlert(error);\r\n            });\r\n\r\n          });\r\n          //console.log(\"testando form\");\r\n        } else {\r\n          this.showAlert('o email já está sendo utilizado em outra conta');\r\n          loading.dismiss();\r\n        }\r\n      });\r\n\r\n  }//fim do método onSubmit\r\n\r\n  private showAlert(message: string): void {\r\n    this.alertCtrl.create({\r\n      message: message,\r\n      buttons: ['OK']\r\n    }).present();\r\n  }\r\n\r\n\r\n  private showLoading(): Loading {\r\n    let loading: Loading = this.loadingCtrl.create({\r\n      content: 'Carregando...'\r\n    });\r\n    loading.present();\r\n    return loading;\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { WelcomePage } from './../welcome/welcome';\r\nimport { HomePage } from './../home/home';\r\nimport { AuthServiceProvider } from './../../providers/auth/auth.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Loading, LoadingController, AlertController } from 'ionic-angular';\r\n\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'clientelogin.html',\r\n})\r\nexport class ClienteLoginPage {\r\n  constructor(public loadingCtrl: LoadingController, public alertCtrl: AlertController,\r\n    public authService: AuthServiceProvider, public formBuilder: FormBuilder, public navCtrl: NavController, public navParams: NavParams) {\r\n\r\n  }\r\n\r\n\r\n\r\n  private showAlert(message: string): void {\r\n    this.alertCtrl.create({\r\n      message: message,\r\n      buttons: ['OK']\r\n    }).present();\r\n  }\r\n\r\n\r\n  private showLoading(): Loading {\r\n    let loading: Loading = this.loadingCtrl.create({\r\n      content: 'Carregando...'\r\n    });\r\n    loading.present();\r\n    return loading;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    //console.log('ionViewDidLoad LoginPage');\r\n  }\r\n\r\n  onHomePage(): void {\r\n    this.navCtrl.push(HomePage).then(\r\n      (hasAccess: boolean) => {\r\n        //console.log('Autorizado : ', hasAccess);\r\n      }\r\n    ).catch(err => {\r\n      //console.log('Não Autorizado : ', err);\r\n    });\r\n  }\r\n\r\n\r\n  onLogout(): void {\r\n    this.authService.logout();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clienteLogin/clientelogin.ts","import { UserServiceProvider } from './../../providers/user/user.service';\nimport { AuthServiceProvider } from './../../providers/auth/auth.service';\nimport { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController } from 'ionic-angular';\nimport { User } from '../../models/user.model';\n\n/**\n * Generated class for the UserProfilePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-user-profile',\n  templateUrl: 'user-profile.html',\n})\nexport class UserProfilePage {\n  currentUser: User;\n  canEdit: boolean = false;\n  private filePhoto: File;\n  uploadProgress: number;\n\n  constructor(public menuCtrl:MenuController,public cd: ChangeDetectorRef, public authService: AuthServiceProvider, public userService: UserServiceProvider, public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    this.menuCtrl.enable(false, 'user-menu');\n    this.userService.currentUser.subscribe(\n      (user: User) => {\n        this.currentUser = user;\n      }\n    )\n    //console.log('ionViewDidLoad UserProfilePage');\n  }\n  onPhoto(event): void {\n    this.filePhoto = event.target.files[0];\n  }\n\n  private editUser(photoUrl?: string): void {\n    this.userService.edit({\n      name: this.currentUser.name ,distance: this.currentUser.distance,curso: this.currentUser.curso,faculdade: this.currentUser.faculdade, photo: photoUrl || '' ||\n        this.currentUser.photo\n    }).then(() => {\n      this.canEdit = false;\n      this.filePhoto = undefined;\n      this.uploadProgress = 0;\n    });\n  }\n  ionViewWillLeave() {\n    this.menuCtrl.enable(true, 'user-menu');\n  }\n  onSubmit(event: Event): void {\n    event.preventDefault();\n    if (this.filePhoto) {\n      //console.log(\"ver caminho da foto\");\n      //console.log(this.filePhoto);\n      let uploadTask = this.userService.uploadPhoto(this.filePhoto, this.currentUser.$key);\n      uploadTask.on('state_changed', (snapshot) => {\n        this.uploadProgress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n        this.cd.detectChanges();\n      }, (error: Error) => {\n      }, () => {\n        //console.log(\"url de download da foto\");\n        //console.log(uploadTask.snapshot.downloadURL);\n        this.editUser(uploadTask.snapshot.downloadURL);\n      }\n      );\n    }\n    else {\n      this.editUser();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-profile/user-profile.ts","import { WelcomePage } from './../pages/welcome/welcome';\r\nimport { AuthServiceProvider } from './../providers/auth/auth.service';\r\nimport { AlertController, App, MenuController, NavController } from 'ionic-angular';\r\nimport { OnInit } from '@angular/core';\r\nimport { ClienteLoginPage } from '../pages/clienteLogin/clientelogin';\r\n\r\nexport abstract class BaseComponent implements OnInit {\r\n    protected navCtrl: NavController;\r\n    constructor(public alertCtrl: AlertController, public authService: AuthServiceProvider,\r\n        public app: App, public menuCtrl: MenuController) {\r\n\r\n    }\r\n    ngOnInit(): void {\r\n      this.navCtrl = this.app.getActiveNav();\r\n    }\r\n\r\n    onLogout(): void {\r\n\r\n        this.alertCtrl.create({\r\n            message: 'Deseja sair?',\r\n            buttons: [\r\n                {\r\n                    text: 'Sim',\r\n                    handler: () => {\r\n                        this.authService.logout().then(\r\n                            () => {\r\n                                this.navCtrl.setRoot(WelcomePage);\r\n                                this.menuCtrl.enable(false,'user-menu');\r\n                            }\r\n                        );\r\n                    }\r\n                },\r\n                { text: 'Não' }\r\n            ]\r\n        }).present();\r\n    }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/base.component.ts","import { SpottedServiceProvider } from './../../providers/spotted/spotted.service';\r\nimport { Component, ChangeDetectorRef } from '@angular/core';\r\nimport { User } from '../../models/user.model';\r\nimport { UserServiceProvider } from '../../providers/user/user.service';\r\nimport { NavParams, NavController, IonicPage } from 'ionic-angular';\r\nimport { FirebaseListObservable } from 'angularfire2';\r\nimport { SpottedPage } from '../spotted/spotted';\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'profissionallogin.html',\r\n})\r\nexport class ProfissionalLoginPage {\r\n  currentUser: User;\r\n  solicitacoes: FirebaseListObservable<any[]>;\r\n\r\n  constructor(public spottedService:SpottedServiceProvider,public userService: UserServiceProvider,public navCtrl: NavController, public navParams: NavParams) {\r\n  }\r\n  openSpotted(key:string,materia:string,professor:string):void{\r\n    this.navCtrl.push(SpottedPage,{\r\n      keySolicitacao:key,\r\n      materia:materia,\r\n      professor:professor\r\n    });\r\n  }\r\n  ionViewWillEnter() {\r\n   \r\n  }\r\n  ionViewDidLoad() {\r\n    this.solicitacoes = this.spottedService.solicitacoes;\r\n    this.userService.currentUser.subscribe(\r\n      (user: User) => {\r\n        this.currentUser = user;\r\n      }\r\n    );\r\n   \r\n    //console.log('ionViewDidLoad SpottedPage');\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profissionalLogin/profissionallogin.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NotificacoesPage } from './../pages/notificacoes/notificacoes';\r\nimport { StoriesListPage } from './../pages/stories-list/stories-list';\r\nimport { CanvasDraw } from './../components/canvas-draw/canvas-draw';\r\nimport { BotchatPage } from './../pages/botchat/botchat';\r\nimport { ProgressBarComponent } from './../components/progress-bar/progress-bar';\r\nimport { UserProfilePage } from './../pages/user-profile/user-profile';\r\nimport { MessageServiceProvider } from './../providers/message/message.service';\r\nimport { ChatPage } from './../pages/chat/chat';\r\nimport { CapitalizePipe } from './../pipes/capitalize/capitalize';\r\nimport { CustomLoggedHeaderComponent } from './../components/custom-logged-header/custom-logged-header';\r\nimport { SignupPage } from './../pages/signup/signup';\r\nimport { ClienteLoginPage } from './../pages/clienteLogin/clientelogin';\r\nimport { HomePage } from './../pages/home/home';\r\nimport { AuthServiceProvider } from './../providers/auth/auth.service';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { HttpModule } from '@angular/http'; \r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { MyApp } from './app.component';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { AngularFireModule, FirebaseAppConfig } from 'angularfire2';\r\nimport {AuthProviders,AuthMethods} from 'angularfire2';\r\nimport { SpottedDetalhesPage } from '../pages/spotted-detalhes/spotted-detalhes';\r\nimport { CameraPreview }  from '@ionic-native/camera-preview';\r\nimport { Camera,CameraOptions }  from '@ionic-native/camera';\r\nimport {PerfilPage } from '../pages/perfil/perfil';\r\nimport { UserServiceProvider } from '../providers/user/user.service';\r\nimport { ProfissionalLoginPage } from '../pages/profissionalLogin/profissionallogin';\r\nimport { ChatServiceProvider } from '../providers/chat/chat.service';\r\nimport { MessageBoxComponent } from '../components/message-box/message-box';\r\nimport { UserMenuComponent } from '../components/user-menu/user-menu';\r\nimport { UserInfoComponent } from '../components/user-info/user-info';\r\nimport { SpottedPage } from '../pages/spotted/spotted';\r\nimport { SpottedServiceProvider } from '../providers/spotted/spotted.service';\r\nimport { StoryPhotoPage } from '../pages/story-photo/story-photo';\r\nimport { StoryService } from '../providers/story/story';\r\nimport { Facebook } from '@ionic-native/facebook';\nimport { BackbuttonProvider } from '../providers/backbutton/backbutton';\r\n\r\nconst firebaseAppConfig : FirebaseAppConfig = {\r\n   apiKey: \"AIzaSyD9xiuWEjUJuSdhg3xlfdyJstzCnjFN0bw\",\r\n  authDomain: \"aluno-amigo.firebaseapp.com\",\r\n  databaseURL: \"https://aluno-amigo.firebaseio.com\",\r\n  storageBucket: \"aluno-amigo.appspot.com\",\r\n  messagingSenderId: \"823497725749\"\r\n};\r\n\r\nconst firebaseAuthConfig = {\r\n  provider : AuthProviders.Custom,\r\n  method : AuthMethods.Password\r\n};\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UserProfilePage,PerfilPage,NotificacoesPage,CanvasDraw,StoriesListPage,BotchatPage,StoryPhotoPage,SpottedPage,ProgressBarComponent,MessageBoxComponent,UserInfoComponent,UserMenuComponent,CustomLoggedHeaderComponent,CapitalizePipe,ChatPage,MyApp,HomePage,ClienteLoginPage,SpottedDetalhesPage,ProfissionalLoginPage,SignupPage,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    AngularFireModule.initializeApp(firebaseAppConfig,firebaseAuthConfig),\r\n    IonicModule.forRoot(MyApp),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,HomePage,PerfilPage,StoriesListPage,NotificacoesPage,StoryPhotoPage,SpottedPage,SpottedDetalhesPage,CanvasDraw,BotchatPage,UserProfilePage,ClienteLoginPage,ProfissionalLoginPage,SignupPage,ChatPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    UserServiceProvider,\r\n    MessageServiceProvider,\r\n    Geolocation,\r\n    Facebook,\r\n    Camera,\r\n    LocalNotifications,\r\n    CameraPreview,\r\n    AuthServiceProvider,\r\n    ChatServiceProvider,\r\n    SpottedServiceProvider,\r\n    StoryService,\n    BackbuttonProvider,\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { NotificacoesPage } from './../notificacoes/notificacoes';\nimport { MessageServiceProvider } from './../../providers/message/message.service';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { StoryService } from './../../providers/story/story';\nimport { BehaviorSubject } from 'rxjs';\nimport { SpottedServiceProvider } from './../../providers/spotted/spotted.service';\nimport { BotchatPage } from './../botchat/botchat';\nimport { ChatServiceProvider } from './../../providers/chat/chat.service';\nimport { Chat } from './../../models/chat.model';\nimport { ChatPage } from './../chat/chat';\nimport { WelcomePage } from './../welcome/welcome';\nimport { AuthServiceProvider } from './../../providers/auth/auth.service';\nimport { Component } from '@angular/core';\nimport { NavController, NavParams, MenuController, Platform, AlertController, IonicPage } from 'ionic-angular';\nimport { User } from './../../models/user.model';\nimport { UserServiceProvider } from './../../providers/user/user.service';\nimport { FirebaseListObservable } from 'angularfire2';\nimport firebase from 'firebase';\nimport 'rxjs/add/operator/first';\nimport { Spotted } from '../../models/spotted.model';\nimport { SpottedPage } from '../spotted/spotted';\nimport { SpottedDetalhesPage } from '../spotted-detalhes/spotted-detalhes';\nimport { Geolocation, Geoposition, GeolocationOptions } from '@ionic-native/geolocation';\nimport { PerfilPage } from '../perfil/perfil';\n//import { errorHandler } from '@angular/platform-browser';\nimport * as Geofire from \"geofire\";\nimport { Story } from '../../models/story.model';\nimport { Notificacao } from '../../models/notificacao.model';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n  chats: FirebaseListObservable<Chat[]>;\n  users: FirebaseListObservable<User[]>;\n  stories: FirebaseListObservable<Story[]>;\n\n  usuariosPerto:any[];\n  plataforma : boolean = false;\n  spotteds: FirebaseListObservable<Spotted[]>;\n  headerImage:any = \"assets/images/background/22.jpg\";\n  chaveUsuarioAtual:String;\n  view: string = 'feed';\n  long :number ;\n  lat:number;\n  raioDoUsuario : number;\n  referencia:any;\n  geoFire:any;\n  hits = new BehaviorSubject([]);\n\n  arraydelocalizacao:Array<number>;\nchave:string;\n  static flag: boolean;\n  constructor(public menuCtrl: MenuController,\n    private geolocation: Geolocation,\n    public alertCtrl:AlertController,\n    public storyService:StoryService,\n    public messageService:MessageServiceProvider,\n    private localNotifications:LocalNotifications,\n    public platform:Platform, public spottedService:SpottedServiceProvider,\n    public chatService: ChatServiceProvider, \n    public authService: AuthServiceProvider, \n    public userService: UserServiceProvider,\n     public navCtrl: NavController, public navParams: NavParams) {\n      this.userService.currentUser.first().subscribe(\n        (currentUser: User) =>{\n       this.chave = currentUser.$key;\n       this.raioDoUsuario = currentUser.distance;\n           }   )\n    this.plataforma = platform.is('android') ;\n   \n\nthis.storyService.getFeed();\n\n\nlet onclickObservable = this.localNotifications.on(\"click\");\nonclickObservable.first().subscribe((notification) => \n{\n   if(notification.data.notif.tipo === 1){\n  if(notification.data.flag === 1 ){\n  this.messageService.deleteNotificacao(notification.data.notif);\n  this.view = 'conversas'; \n}\nelse{\n  this.navCtrl.setRoot(HomePage).then(()=>{\n\t//this.view = 'conversas'; \n\t //HomePage.flag = true;\n    this.userService.currentUser.first().subscribe(\n      (currentUser: User) => this.chatService.getDeepChat(currentUser.$key,notification.data.notif.senderKey).\n        first().subscribe((chat: Chat) => {\n          if (chat.hasOwnProperty(`$value`)) {\n            let timestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n            let chat1 = new Chat('', timestamp, notification.data.notif.titulo, '');\n            this.chatService.create(chat1, currentUser.$key, notification.data.notif.senderKey);\n            let chat2 = new Chat('', timestamp, currentUser.name, '');\n            this.chatService.create(chat1,notification.data.notif.senderKey, currentUser.$key);\n          }\n        })\n    )\n\tthis.userService.get(notification.data.notif.senderKey).first().subscribe(\n      (recipientUser: User) => {\n        this.navCtrl.push(ChatPage, {\n      recipientUser: recipientUser\n    });\n      }\n    );\n    \n  });\n}\n}\n});\n\n\n\n  }\n  removerSpotted(spotted: Spotted){\nthis.spottedService.delete(spotted);\nthis.spotteds = this.spottedService.spotteds;\n  }\n  arrayGlobal = [];\n  getLocationUsers(radius: number,raioUsuario:number, coords: Array<number>){\n    var usuarioLoc = {};\n    var usuariosPerto = [];\n    var usuarioFinal = {};\n\n    this.geoFire.query({\n      center: coords,\n      radius: radius\n    })\n    .on('key_entered', (key, location, distance)=>{\n      console.log(\"key => \",key,\"location -> \",location,\"distance->\",distance);\n      if(distance < raioUsuario){\n        this.arrayGlobal.push({key:key,distancia:distance});\n      }\n      let hit = {\n        location: location,\n        distance: distance\n      }\n      usuarioLoc = {\n        id: key,\n        distancia: distance.toFixed(0),\n        localizacao: location\n      };\n      let distancia_final;\n      if (usuarioLoc['distancia'] < 1){\n        distancia_final = \"< 1km\";\n      }else{\n        distancia_final = usuarioLoc['distancia'] + \"km\";\n      }\n\n      this.userService.get(key).subscribe(\n        (user: User) => {\n          usuarioFinal = {\n            id: key,\n            name: user.name,\n            photo: user.photo,\n            distancia: distancia_final,\n            localizacao: location\n          };\n          if(distance > raioUsuario){\n            usuariosPerto.push(usuarioFinal);\n//AQUI QUE FAZ A FILTRAGEM\n          this.users = <FirebaseListObservable<User[]>>this.users.map(\n            (users: User[]) => {\n              return users.filter(\n                (user: User) => {\n                  return (user.$key !== key);\n                });\n            });\n            //FILTRAGEM DOS SPOTTED\n            this.spotteds = <FirebaseListObservable<Spotted[]>>this.spotteds.map(\n              (spotteds: Spotted[]) => {\n                return spotteds.filter(\n                  (spotted: Spotted) => {\n                    return (spotted.userId !== key);\n                  });\n              });\n          }\n        }\n      );\n      let currentHits = this.hits.value;\n      currentHits.push(hit);\n      this.hits.next(currentHits);\n    })\n    this.geoFire.query({\n      center: coords,\n      radius: radius\n    }).on('key_moved', (key, location, distance)=>{\n      console.log(\"key => \",key,\"location -> \",location,\"distance->\",distance);\n\n      let hit = {\n        location: location,\n        distance: distance\n      }\n      let currentHits = this.hits.value;\n      currentHits.push(hit);\n\n      this.hits.next(currentHits);\n    })\n    usuariosPerto.push(usuarioFinal)\n     \nreturn usuariosPerto\n  }\n\n  setLocation(key:string,coords: Array<number>){\n    this.geoFire.set(key,coords); }\n\n\nfeeds = [];\narrayNotif = [];\n  ionViewDidLoad() {\n    this.userService.currentUser.first().subscribe(\n      (currentUser: User) =>{\n     this.chave = currentUser.$key;\n     this.raioDoUsuario = currentUser.distance;\n         }   );\n         if(this.chave === undefined){\n          this.navCtrl.setRoot(HomePage);\n          console.log(\"e\");\n         }else{\n          this.chats = this.chatService.chats;\n          this.stories = this.storyService.stories;\n          console.log(this.stories);\n          let diferencaTempo:number;\n          if(this.stories === undefined){}else{\n            this.stories.forEach(\n              element=>{\n                \n                element.forEach(k=>{ \n            \n                  diferencaTempo = Math.floor((Math.floor(Date.now() / 1000)-k.timestamp)/60/60/24) ;\n                 //console.log(diferencaTempo,\"dif\");\n                  if(diferencaTempo > 1){\n                        let storageRef =   firebase.storage().ref();\n                         storageRef.child(`stories/${k.userId}/${k.timestamp}.jpeg`).delete();   \n                         this.storyService.delete(k);\n                       }\n                  this.feeds.push({     \n                    id: k.$key,\n                    photo: k.userPhoto,\n                    name:k.userNome,\n                    link: \"\",\n                    lastUpdated: \tk.timestamp,\n                    items: [\n                      StoryService.buildItem(`${k.$key}`, \"photo\", 10,k.photo,`${k.photo}:small`, '', false,k.timestamp)\n                    ]\n                });\n      \n      }); \n              }\n            );\n       \n          }\n          \n          this.users = this.userService.users;\n          this.spotteds = this.spottedService.spotteds;\n          let esseUsuarioTaPerto = 0;\n          this.referencia = this.spottedService.metodoretornareferencia().$ref;\n        this.geoFire = new Geofire(this.referencia);\n            this.platform.ready().then(()=>{\n              const options : GeolocationOptions = {\n            enableHighAccuracy:true,\n            maximumAge:0,\n            timeout:5000\n              };\n             this.geolocation.getCurrentPosition(options).then(resp=>{\n              this.lat =  resp.coords.latitude;\n              this.long = resp.coords.longitude;\n        this.arraydelocalizacao = [this.lat, this.long];\n        console.log(\"array dentro do metodo getCurrentPosition\" , this.arraydelocalizacao);\n        \n             this.geoFire.set(this.chave,this.arraydelocalizacao);\n        \n        console.log(this.getLocationUsers(120000,this.raioDoUsuario,this.arraydelocalizacao));\n              }).catch((err)=>{ console.log(err);\n              });\n            this.geolocation.watchPosition(options).subscribe(resp=>{\n              this.lat =  resp.coords.latitude;\n              this.long = resp.coords.longitude;\n        this.arraydelocalizacao = [this.lat, this.long];\n        console.log(\"array dentro do metodo getCurrentPosition\" , this.arraydelocalizacao);\n       \n             this.geoFire.set(this.chave,this.arraydelocalizacao);\n        \n        console.log(this.getLocationUsers(120000,this.raioDoUsuario,this.arraydelocalizacao));\n            });\n            });  \n         }\n\n  /*\n        this.users.forEach((userss)=>{\n\t\t\tuserss.forEach((u)=>{\n\t\t\t\tthis.arrayGlobal.forEach((usuariosComLocalizacao)=>{\n\t\t\t\t\tif(usuariosComLocalizacao.key == u.$key){\n\t\t\t\t\t\tesseUsuarioTaPerto = 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t   if(esseUsuarioTaPerto === 1){\n\t\t\t\t   esseUsuarioTaPerto = 0;\n\t\t\t   }else{\n\t\t\t       this.users = <FirebaseListObservable<User[]>>this.users.map(\n            (users: User[]) => {\n              return users.filter(\n                (user: User) => {\n                  return (user.$key !== u.$key);\n                });\n            });\n            //FILTRAGEM DOS SPOTTED\n            this.spotteds = <FirebaseListObservable<Spotted[]>>this.spotteds.map(\n              (spotteds: Spotted[]) => {\n                return spotteds.filter(\n                  (spotted: Spotted) => {\n                    return (spotted.userId !== u.$key);\n                  });\n              });\t   \n\t\t\t   }\n\t\t\t});\n\t\t});\n\n*/\n\n    if(!HomePage.flag){\n    this.userService.currentUser.first().subscribe((currentUser: User) => {\n      this.notificacoes = this.messageService.getAllNotificacoes(currentUser.$key); \n      this.notificacoes.subscribe((notificacoes: Notificacao[]) => {\n        if(notificacoes.length === 1){\n          notificacoes.forEach(n=>{\n            if(!n.lida){\n              this.platform.ready().then(()=>{\n                this.localNotifications.schedule({\n                  title:n.titulo,\n                  text:n.texto,\n                  icon: n.senderPhoto,\n                  data:{\"notif\":n,\"flag\":1},\n                }) \n             }); \n            }\n              \n          });\n        }\n        else if(notificacoes.length > 1){\n          notificacoes.forEach(n=>{\n              this.messageService.deleteNotificacao(n);    \n          });\n          this.platform.ready().then(()=>{\n                this.localNotifications.schedule({\n                  title:\"Spotted\",\n                  text:\"você tem \"+notificacoes.length+\" novas mensagens\",\n                  data:{\"usuarioAtual\":currentUser,\"flag\":2},\n                }) \n             }); \n            \n               \n        }\n        \n        \n      });\n    });\n  }\n   \n\n   this.menuCtrl.enable(true, 'user-menu');\n  }\n  onChatCreate(recipientUser: User): void {\n    HomePage.flag = true;\n    this.userService.currentUser.first().subscribe(\n      (currentUser: User) => this.chatService.getDeepChat(currentUser.$key, recipientUser.$key).\n        first().subscribe((chat: Chat) => {\n          if (chat.hasOwnProperty(`$value`)) {\n            let timestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n            let chat1 = new Chat('', timestamp, recipientUser.name, '');\n            this.chatService.create(chat1, currentUser.$key, recipientUser.$key);\n            let chat2 = new Chat('', timestamp, currentUser.name, '');\n            this.chatService.create(chat1, recipientUser.$key, currentUser.$key);\n          }\n        })\n    )\n    this.navCtrl.push(ChatPage, {\n      recipientUser: recipientUser\n    });\n  }\n\n\n\n  onLogout(): void {\n    this.authService.logout();\n    this.navCtrl.setRoot(WelcomePage);\n  }\n  openPerfil(userId : string){\n    let distancia:number;\n    this.arrayGlobal.forEach(a=>{\n      if(userId === a.key){\n         distancia = a.distancia\n      }\n    })\n    this.userService.get(userId).first().subscribe(\n      (user: User) => {\n        this.navCtrl.push(PerfilPage, {\n          usuario: user,\n          usuariosperto : distancia\n        });\n      }\n    );\n\n  }\n   usuarioCurso:string;\n   usuarioFaculdade:string;\n  openSpotted() : void{\n    let alert = this.alertCtrl.create({\n      title: 'Novo post',\n      \n      message: 'Selecione a opção desejada',\n          buttons: [\n       \n        {\n          text: 'Solicitar Matéria',\n          handler: () => {\n            let alert2 = this.alertCtrl.create({\n              title: 'Confirmar cadastro',\n              inputs: [\n                {\n                  name: 'materia',\n                  placeholder: 'Nome da matéria'\n                },\n                {\n                  name: 'professor',\n                  placeholder: 'Nome do professor'\n                }\n              ],\n                  buttons: [\n                    {\n                      text: 'Cancelar',\n                      role: 'cancel',\n                      handler: () => {\n                        console.log('Cancel clicked');\n                      }\n                    },\n                {\n                  text: 'Enviar',\n                  handler: data => {\n            \n                     this.userService.currentUser.first().subscribe(\n                      (currentUser: User) =>{\n                     this.chaveUsuarioAtual = currentUser.$key;\n                     this.usuarioCurso = currentUser.curso;\n                     this.usuarioFaculdade = currentUser.faculdade;\n                         }   );\n                         data.userId = this.chaveUsuarioAtual;\n                         data.usuarioCurso = this.usuarioCurso;\n                         data.usuarioFaculdade = this.usuarioFaculdade;\n                         data.timestamp = firebase.database.ServerValue.TIMESTAMP;\n                         console.log(data);\n                     this.spottedService.createSolicitacao(data);\n                              \n                    }\n                }\n                \n              ]\n            });\n            alert2.present();\n             }\n        }\n        ,{\n          text: 'Avaliar Matéria',\n          handler: () => {\n            this.navCtrl.push(SpottedPage);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n  openChatBot() : void{\n    this.navCtrl.push(BotchatPage);\n  }\n  \n  ionViewCanEnter(): Promise<boolean> {\n      return this.authService.authenticated;\n  }\n  \n  deuLike(currentspotted :Spotted) {\n    let user = this.userService.currentUser;\n    this.userService.currentUser.first().subscribe(\n      (currentUser: User) =>{\n     this.chaveUsuarioAtual = currentUser.$key;\n         }   )\n         this.spottedService.darLike(currentspotted,this.chaveUsuarioAtual);\n         this.spottedService.atualizaLike(currentspotted,this.chaveUsuarioAtual);\n  }\n  irParaPageDetalhesSpotted(spotted:Spotted){\n    this.navCtrl.push(SpottedDetalhesPage, {spotted: spotted});\n  }\n  filterItems(event: any): void {\n    let searchTerm: string = event.target.value;\n    this.chats = this.chatService.chats;\n    this.users = this.userService.users;\n    this.spotteds = this.spottedService.spotteds;\n    if (searchTerm) {\n      switch (this.view) {\n        case 'conversas':\n          this.chats = <FirebaseListObservable<Chat[]>>this.chats.map(\n            (chats: Chat[]) => {\n              return chats.filter(\n                (chat: Chat) => {\n                  return (chat.title.toLowerCase().indexOf(searchTerm.toLocaleLowerCase()) > -1);\n                });\n            });\n          break;\n        case 'pessoas':\n          this.users = <FirebaseListObservable<User[]>>this.users.map(\n            (users: User[]) => {\n              return users.filter(\n                (user: User) => {\n                  return (user.name.toLowerCase().indexOf(searchTerm.toLocaleLowerCase()) > -1);\n                });\n            });\n          break;\n          case 'feed':\n          this.spotteds = <FirebaseListObservable<Spotted[]>>this.spotteds.map(\n            (spotteds: Spotted[]) => {\n              return spotteds.filter(\n                (spotted: Spotted) => {\n                  return (spotted.professor.toLowerCase().indexOf(searchTerm.toLocaleLowerCase()) > -1) || (spotted.conteudo.toLowerCase().indexOf(searchTerm.toLocaleLowerCase()) > -1) || (spotted.materia.toLowerCase().indexOf(searchTerm.toLocaleLowerCase()) > -1);\n                });\n            });\n          break;\n      }\n    }\n  }\n\n  onChatOpen(chat: Chat): void {\n    let recipientUserId: string = chat.$key;\n    this.userService.get(recipientUserId).first().subscribe(\n      (user: User) => {\n        this.navCtrl.push(ChatPage, {\n          recipientUser: user\n        });\n      }\n    );\n  }\n\n  onSpottedOpen(spotted: Spotted): void {\n    let recipientUserId: string = spotted.$key;\n    this.userService.get(recipientUserId).first().subscribe(\n      (user: User) => {\n        this.navCtrl.push(ChatPage, {\n          recipientUser: user\n        });\n      }\n    );\n  }\n  notificacoes: FirebaseListObservable<Notificacao[]>;\n   skins = {\n    'Snapgram': {\n      'avatars': true,\n      'list': false,\n      'autoFullScreen': false,\n      'cubeEffect': true\n    },\n\n    'VemDeZAP': {\n      'avatars': false,\n      'list': true,\n      'autoFullScreen': false,\n      'cubeEffect': false\n    },\n\n    'FaceSnap': {\n      'avatars': true,\n      'list': false,\n      'autoFullScreen': true,\n      'cubeEffect': false\n    },\n\n    'Snapssenger': {\n      'avatars': false,\n      'list': false,\n      'autoFullScreen': false,\n      'cubeEffect': false\n    }\n  };\n\nmyElement = null;\nzukeModal = null;\n  ionViewWillEnter() {\n \n    console.log(\"plataforma eh \"+this.plataforma);\n    //tenho que modificar o html dos componente toda vez que entra para atualizar\n    this.myElement = (<HTMLDivElement>document.getElementById(\"stories\"));\n    console.log(this.myElement);\n    this.myElement.innerHTML = \"\";\n  \n    //modificar também os componentes do próprio zuck-modal que ficam salvos\n  this.zukeModal = (<HTMLDivElement>document.getElementById(\"zuck-modal\"));\n    console.log(this.zukeModal);\n\n    if (this.zukeModal) {\n  \n      if (this.zukeModal.parentNode) {\n        this.zukeModal.parentNode.removeChild(this.zukeModal);\n      }\n  \n    }\n  \n  \n    let skin = \"Snapgram\";\n \n\n    var stories = new (<any>window).Zuck('stories', {\n      backNative: true,\n      autoFullScreen: this.skins[skin]['autoFullScreen'],\n      skin: skin,\n      avatars: this.skins[skin]['avatars'],\n      list: this.skins[skin]['list'],\n      cubeEffect: this.skins[skin]['cubeEffect'],\n      localStorage: true,\n      stories:this.feeds //feeds //\n    });\n  console.log(stories);\n  \n  }\n\n  storiesList ;\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Response } from '@angular/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nconst extractError = (error: Response | any): string => {\r\n    // In a real world app, we might use a remote logging infrastructure\r\n    let errMsg: string;\r\n    if (error instanceof Response) {\r\n        const body = error.json() || '';\r\n        const err = body.error || JSON.stringify(body);\r\n        errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\r\n    } else {\r\n        errMsg = error.message ? error.message : error.toString();\r\n    }\r\n    console.error(errMsg);\r\n\r\n    return errMsg;\r\n}\r\n\r\nexport abstract class BaseService {\r\n\r\n    protected handlePromiseError(error: Response | any): Promise<any> {\r\n        return Promise.reject(extractError(error));\r\n    }\r\n\r\n    protected handleObservableError(error: Response | any): Observable<any> {\r\n        return Observable.throw(extractError(error));\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/base.service.ts","import { Story } from './../../models/story.model';\nimport { Spotted } from './../../models/spotted.model';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/first';\nimport { Injectable, Inject } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { AngularFire, FirebaseListObservable, FirebaseObjectObservable, FirebaseAuthState, FirebaseApp } from 'angularfire2';\nimport { BaseService } from '../base.service';\nimport { Comentario } from '../../models/comentario.model';\nimport { BehaviorSubject } from 'rxjs';\n/*\n  Generated class for the SpottedProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class SpottedServiceProvider extends BaseService {\n  spotteds: FirebaseListObservable<Spotted[]>;\n  currentSpotted: FirebaseObjectObservable<Spotted>;\n  usuarioLikou :boolean;\n  solicitacoes: FirebaseListObservable<any[]>;\n\n  constructor(public af: AngularFire, public http: Http, @Inject(FirebaseApp) public firebaseApp: any) {\n    super();\n    //console.log('Hello SpottedProvider Provider');\n    this.setSpotteds();\n    this.setSolicitacoes();\n    //this.dbRef = this.af.database.list(`/spotteds/`);\n  //  this.geoFire = new Geofire(this.dbRef.$ref);\n  }\n  dbRef:any;\n\n  metodoretornareferencia(){\n    return this.af.database.list(`/localizacaoUsuarios`);\n  }\n\n\ncreateLocationArr(lat:any,lng:any) {\n  const location = [lat, lng]\n  return location\n}\nget(userId: string): FirebaseObjectObservable<Spotted> {\n  return <FirebaseObjectObservable<Spotted>>this.af.database.object(`/spotteds/${userId}`)\n    .catch(this.handleObservableError);\n}\n  getAllSpotteds(): FirebaseListObservable<Spotted[]>{\n    return <FirebaseListObservable<Spotted[]>> this.af.database.list(`spotteds`,{\n      query :{\n        orderByChild: 'timestamp',\n        //limita o numero de mensagens que ira aparecer na tela\n      }\n    }).catch(this.handleObservableError); \n    }\n\n\n  \n\n\n\n\n\n  getSpotteds(userId1: string): FirebaseListObservable<Spotted[]>{\n    return <FirebaseListObservable<Spotted[]>> this.af.database.list(`/spotteds/${userId1}`,{\n      query :{\n        orderByChild: 'timestamp',\n        //limita o numero de mensagens que ira aparecer na tela\n      }\n    }).catch(this.handleObservableError); \n    }\n    /*\n    create(spotted : Spotted, listMessages : FirebaseListObservable<Spotted[]>,userId:string): firebase.Promise<void>{\n      return listMessages.push(spotted).catch(this.handlePromiseError);\n    }\n*/\n    create(spotted: Spotted): firebase.Promise<void> {\n      return this.af.database.list(`/spotteds/`).push(spotted).catch(this.handlePromiseError);\n    }\n    createSolicitacao({materia , professor,userId,timestamp,usuarioCurso,usuarioFaculdade}): firebase.Promise<void> {\n     console.log({materia , professor,userId,timestamp,usuarioCurso,usuarioFaculdade});\n      return this.af.database.list(`/solicitacoes/`).push({materia:materia,professor:professor,usuarioCurso:usuarioCurso,usuarioFaculdade:usuarioFaculdade,timestamp:timestamp,userId:userId}).catch(this.handlePromiseError);\n    }\n    darLike(spotted : Spotted,userId:String) : firebase.Promise<void> {\n\nlet item = this.retornaObjetoSpottedLike(spotted,userId);\n      let itemRef = this.af.database.object(`/spotteds/${spotted.$key}/${userId}`).subscribe(snapshot =>{\n        //console.log(\"qual q eh \"+snapshot.usuarioDeuLike);\n\n        if(snapshot.usuarioDeuLike == true){\n\n        }\n        else {\n          spotted.numLikes++;  \n          //console.log(\"agr tem mais olha ,ja sao \"+spotted.numLikes);\n\n        }\n      });       \n\n        return this.af.database.object(`/spotteds/${spotted.$key}`).set(spotted).catch(this.handlePromiseError);\n    \n      \n    }\n    retornaObjetoSpotted(spotted:Spotted): FirebaseObjectObservable<any>{\n      return this.af.database.object(`/spotteds/${spotted.$key}`);\n      }     \nretornaObjetoSpottedLike(spotted:Spotted,userId :String): FirebaseObjectObservable<any>{\nreturn this.af.database.object(`/spotteds/${spotted.$key}/${userId}`);\n}     \natualizaLike(spotted : Spotted,userId:String) : firebase.Promise<void> {\n  let item = this.retornaObjetoSpottedLike(spotted,userId);\n   return  item.update({ usuarioDeuLike: true });\n}\nprivate nbObjects: BehaviorSubject<any> = new BehaviorSubject<any>(33);\n\n\ngetComentarios(spottedId:string): FirebaseListObservable<Comentario[]>{\n  return <FirebaseListObservable<Comentario[]>> this.af.database.list(`/comentarios/${spottedId}`,{\n    query :{\n      orderByChild: 'timestamp',\n      limitToLast : this.nbObjects  //limita o numero de mensagens que ira aparecer na tela\n    }\n  }).catch(this.handleObservableError); \n  }\n  loadMoreObjects() : void {\n\t\tthis.nbObjects.next(this.nbObjects.getValue() + 15); \n\t}\ncomentar(comentario : Comentario,spottedId:string): firebase.Promise<void>{\n  return this.af.database.list(`/comentarios/${spottedId}/`).push(comentario).catch(this.handlePromiseError);\n}\n//  create(spotted: Spotted, userId: string): firebase.Promise<void> {\n \n    //return this.af.database.object(`/chats/${userId1}/${userId2}`).set(chat).catch(this.handlePromiseError);\n\n   //    return this.af.database.object(`/spotteds/${userId}`).set(spotted).catch(this.handlePromiseError);\n // }\n\n\n\n\n\n\n\nedit(spotted:{titulo:string,conteudo:string,photo:string}) : firebase.Promise<void>{\n  return this.currentSpotted.update(spotted).catch(this.handlePromiseError);\n}\ndelete(spotted:Spotted/*,userId:string*/) : firebase.Promise<void>{\n  return this.af.database.object(`/spotteds/${spotted.$key}`).remove().catch(this.handlePromiseError);\n}\ndeleteSolicitacao(key:string/*,userId:string*/) : firebase.Promise<void>{\n  return this.af.database.object(`/solicitacoes/${key}`).remove().catch(this.handlePromiseError);\n}\nuploadPhoto(file:File,userId:string) :firebase.storage.UploadTask {\n  return this.firebaseApp.storage().ref().child(`/spotteds/${userId}`).put(file);\n}\n\n  /*\n  getDeepSpotted(userId1: string): FirebaseObjectObservable<Spotted> {\n    return <FirebaseObjectObservable<Spotted>>this.af.database\n      .object(`/spotteds/${userId1}/${userId2}`)\n      .catch(this.handleObservableError);\n  }\n  */\n  private setSpotteds(): void {\n    this.af.auth.subscribe(\n      (authState: FirebaseAuthState) => {\n        if (authState) {\n          this.spotteds = <FirebaseListObservable<Spotted[]>>this.af.database.list(`/spotteds`, {\n            query: {\n              orderByChild: 'timestamp'\n            }\n          }).map((spotteds: Spotted[]) => {\n            return spotteds.reverse();\n          }).catch(this.handleObservableError);\n        }\n      }\n    );\n  }\n  private setSolicitacoes(): void {\n    this.af.auth.subscribe(\n      (authState: FirebaseAuthState) => {\n        if (authState) {\n          this.solicitacoes = <FirebaseListObservable<any[]>>this.af.database.list(`/solicitacoes`, {\n            query: {\n              orderByChild: 'timestamp'\n            }\n          }).map((solicitacoes: any[]) => {\n            return solicitacoes.reverse();\n          }).catch(this.handleObservableError);\n        }\n      }\n    );\n  }\n  updatePhoto(spotted: FirebaseObjectObservable<Spotted>, spottedPhoto: string, recipientUserPhoto: string): firebase.Promise<boolean> {\n    if (spottedPhoto != recipientUserPhoto) {\n      return spotted.update({\n        photo: recipientUserPhoto\n      }).then(() => {\n        return true;\n      }).catch(this.handlePromiseError);\n    }\n    return Promise.resolve(false);\n  }\n\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/spotted/spotted.service.ts","export class Story {\r\n    public $key : string;\r\n\r\n    constructor(\r\n        public photo: string,\r\n        public userId : string,\r\n        public userNome:string,\r\n        public userPhoto:string,\r\n        public timestamp : any\r\n       ) { }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/story.model.ts","export class Mensagem {\r\n    myRenderer;\r\n    constructor(public content: string, public sentBy: string,public timestamp : any) {}\r\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/models/mensagem.model.ts","export const environment={\r\n    production:false,\r\n    dialogflow:{\r\n        angularBot:'40302b5f20d149efac86ed84d0467b21'\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/providers/environment.ts","export class Chat {\r\n    public $key : string;\r\n    constructor(public lastMessage: string,\r\n        public timestamp: any,\r\n        public title: string,\r\n        public photo: string) { }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/chat.model.ts","\r\nexport class Notificacao{\r\n    myRenderer;\r\n    public $key : string;\r\n\r\n    constructor(public userId:string,public titulo : string,public senderKey:string,public senderPhoto:string,public texto:string,public tipo:number,public lida:boolean,public timestamp : any){\r\n//      userid,titulo,texto,tipo,lida,timestamp\r\n        \r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/notificacao.model.ts","export class Spotted {\r\n    public $key : string;\r\n    public lastComentario?: string;\r\n\r\n    constructor(\r\n        public faculdade:string,\r\n        public curso:string,\r\n        public materia: string,\r\n        public professor:string,\r\n        public dificuldadeMateria :string,\r\n        public dificuldadeProfessor:string,\r\n        public conteudo:string,\r\n        public photo: string,\r\n        public userId : string,\r\n        public userNome:string,\r\n        public userPhoto:string,\r\n        public numComentarios : number,\r\n        public numLikes : number,\r\n        public timestamp : any\r\n       ) { }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/spotted.model.ts","\r\nexport class Comentario{\r\n    myRenderer;\r\n\r\n    constructor(public userId:string,public text : string,public apelido:string,public photo : string,public timestamp : any){\r\n        \r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/comentario.model.ts","import { Component, Input } from '@angular/core';\n\n/**\n * Generated class for the ProgressBarComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress-bar.html'\n})\nexport class ProgressBarComponent {\n@Input() progress :number;\n\n  constructor() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts","import { Injectable, Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'capitalize'\n})\n@Injectable()\nexport class CapitalizePipe implements PipeTransform {\n\n  transform(value: string, onlyFirst: boolean) {    \n\n    if (onlyFirst) return value.charAt(0).toUpperCase() + value.substr(1);\n    \n    let words: string[] = value.split(' ');\n    let output: string = '';\n\n    words.forEach((value: string, index: number, words: string[]) => {\n      output += value.charAt(0).toUpperCase() + value.substr(1).toLowerCase() + ' ';\n    });\n\n    return output;\n\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/capitalize/capitalize.ts","import { Component, Input } from '@angular/core';\nimport { BaseComponent } from '../base.component';\nimport { AlertController, App, MenuController } from 'ionic-angular';\nimport { AuthServiceProvider } from '../../providers/auth/auth.service';\nimport { User } from '../../models/user.model';\n\n@Component({\n  selector: 'custom-logged-header',\n  templateUrl: 'custom-logged-header.html'\n})\nexport class CustomLoggedHeaderComponent extends BaseComponent {\n\n/*  <button ion-button icon-only (click) =\"onLogout()\">\n<ion-icon name=\"exit\"></ion-icon>\n</button>\n*/\n @Input() title: string;\n @Input() user:User;\n\n  constructor(public alertCtrl: AlertController, public authService: AuthServiceProvider,\n    public app: App, public menuCtrl: MenuController) {\n  super(alertCtrl,authService,app,menuCtrl);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/custom-logged-header/custom-logged-header.ts","import { FirebaseAuthState } from 'angularfire2';\r\nimport { AuthServiceProvider } from './../providers/auth/auth.service';\r\nimport { User } from './../models/user.model';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { UserServiceProvider } from '../providers/user/user.service';\r\nimport firebase from 'firebase';\r\n\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  @ViewChild(Nav) nav: Nav;\r\n  currentUser :User;\r\n  rootPage: any = 'WelcomePage';\r\n\r\n  pages: Array<{title: string, component: any}>;\r\n\r\n  constructor(authService:AuthServiceProvider,userService:UserServiceProvider,public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\r\n   authService.auth.subscribe(\r\n     (authState:FirebaseAuthState) =>{\r\n       if(authState){\r\n         userService.currentUser.subscribe(\r\n           (user:User) =>{\r\n             this.currentUser = user;\r\n           }\r\n         );\r\n       }\r\n     }\r\n   );\r\n   \r\n    this.initializeApp();\r\n\r\n    // used for an example of ngFor and navigation\r\n    this.pages = [\r\n      { title: 'Home', component: 'HomePage' }\r\n    ];\r\n\r\n  }\r\n\r\n  initializeApp() {\r\n    this.platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      this.statusBar.styleDefault();\r\n      this.splashScreen.hide();\r\n     /* const firebaseConfig = {\r\n        apiKey: \"AIzaSyDBQl4HG_lqovYTg-ATndA3Co4JnUdoyiM\",\r\n        authDomain: \"spottedagrvai.firebaseapp.com\",\r\n        databaseURL: \"https://spottedagrvai.firebaseio.com\",\r\n        projectId: \"spottedagrvai\",\r\n        storageBucket: \"spottedagrvai.appspot.com\",\r\n        messagingSenderId: \"832356265521\"\r\n      };\r\n      firebase.initializeApp(firebaseConfig);\r\n      */\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Message } from './../../models/message.model';\nimport { Component, Input } from '@angular/core';\n\n/**\n * Generated class for the MessageBoxComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'message-box',\n  templateUrl: 'message-box.html',\nhost:{\n  '[style.justify-content]' :'((!isFromSender) ? \"flex-start\" : \"flex-end\")',\n  '[style.text-align]' :'((!isFromSender) ? \"left\" : \"right\")'\n}\n})\nexport class MessageBoxComponent {\n@Input() message:Message;\n@Input() isFromSender:boolean;\n\n  constructor() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message-box/message-box.ts","import { StoryPhotoPage } from './../../pages/story-photo/story-photo';\nimport { StoriesListPage } from './../../pages/stories-list/stories-list';\nimport { User } from './../../models/user.model';\nimport { Component, Input } from '@angular/core';\nimport { BaseComponent } from '../base.component';\nimport { AlertController, App, MenuController, Platform } from 'ionic-angular';\nimport { AuthServiceProvider } from '../../providers/auth/auth.service';\nimport { UserProfilePage } from '../../pages/user-profile/user-profile';\nimport { ProfissionalLoginPage } from '../../pages/profissionalLogin/profissionallogin';\nimport { NotificacoesPage } from '../../pages/notificacoes/notificacoes';\n\n/**\n * Generated class for the UserMenuComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'user-menu',\n  templateUrl: 'user-menu.html'\n})\nexport class UserMenuComponent extends BaseComponent {\nplataforma:boolean=false;\n@Input('user') currentUser : User; \n  constructor(public alertCtrl: AlertController, public authService: AuthServiceProvider,\n    public app: App, public menuCtrl: MenuController,public platform:Platform) {\nsuper(alertCtrl,authService,app,menuCtrl);\nif(platform.is('android')){\nthis.plataforma = true;\n}\n    }\n    onProfile() : void{\n      this.navCtrl.push(UserProfilePage);\n    }\n    onNotificacoes() : void{\n      this.navCtrl.push(NotificacoesPage);\n    }\n    onStories() : void{\n      this.navCtrl.push(ProfissionalLoginPage);\n    }\n    onStories2() : void{\n      this.navCtrl.push(StoryPhotoPage);\n    }\n    onTermos() : void{\n      this.navCtrl.push(StoriesListPage);\n    }\n   /* onRaio() : void{\n    }\n*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-menu/user-menu.ts","import { Component, Input } from '@angular/core';\nimport { User } from '../../models/user.model';\n\n/**\n * Generated class for the UserInfoComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'user-info',\n  templateUrl: 'user-info.html'\n})\nexport class UserInfoComponent {\n\n  @Input() user : User;\n  @Input() isMenu : boolean = false;\n\n  constructor() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-info/user-info.ts","import { Globals,EN_TAB_PAGES } from './../../app/app.config';\nimport 'rxjs/add/operator/map';\nimport { Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class BackbuttonProvider {\n    pageNumberStack = [];\n    constructor() {\n    }\n    pushPage(pageNumber, navCtrl) {\n        if (navCtrl)\n            Globals.navCtrls[pageNumber] = navCtrl;\n        Globals.tabIndex = pageNumber;\n\n        let indexOfPageNumber = this.pageNumberStack.indexOf(pageNumber);\n        console.log(\"pageNumber: \" + JSON.stringify(pageNumber));\n        console.log(\"indexOfPageNumber: \" + JSON.stringify(indexOfPageNumber));\n        if (indexOfPageNumber >= 0) {\n            this.pageNumberStack.splice(indexOfPageNumber, 1);\n        }\n        console.log(\"Before this.pageNumberStack: \" + JSON.stringify(this.pageNumberStack));\n        this.pageNumberStack.push(pageNumber);\n        console.log(\"After this.pageNumberStack: \" + JSON.stringify(this.pageNumberStack));\n    }\n\n    popPage() {\n        if (this.pageNumberStack.length > 0)\n            this.pageNumberStack.pop();\n\n        console.log(\"After pop this.pageNumberStack: \" + JSON.stringify(this.pageNumberStack));\n        if (this.pageNumberStack.length > 0)\n            return this.pageNumberStack[this.pageNumberStack.length - 1];\n        else {\n            // Always leave 0 in the stack\n            this.pageNumberStack.push(0);\n            return -1;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/backbutton/backbutton.ts","//Enum variable for tab \r\nexport var EN_TAB_PAGES = {\r\n    EN_TP_HOME: 0,\r\n    EN_TP_PLANET:1,\r\n    EN_TP_STAR: 2,\r\n    EN_TP_LENGTH: 3,\r\n    }\r\n    //A global variable \r\n    export var Globals = {\r\n    //Nav ctrl of each tab page\r\n    navCtrls : new Array(EN_TAB_PAGES.EN_TP_LENGTH),\r\n    tabIndex:0, //Index of the current tab\r\n    tabs: <any>{}, //Hook to the tab object\r\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.config.ts","import { Notificacao } from './../../models/notificacao.model';\nimport { Platform } from 'ionic-angular';\nimport { AngularFire, FirebaseListObservable } from 'angularfire2';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { BaseService } from '../base.service';\nimport { Message } from '../../models/message.model';\n\nimport { BehaviorSubject, Subject } from 'rxjs';\n\n/*\n  Generated class for the MessageProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class MessageServiceProvider extends BaseService {\nprivate nbObjects: BehaviorSubject<any> = new BehaviorSubject<any>(33);\n//public nbObjects: Subject<any>;\n  \nconstructor(public http: Http,public af : AngularFire){//public platform:Platform) {\n    super();\n/*    this.platform.ready().then(() => {\n\t\t  this.nbObjects.next(40);\n\t\t});\n  */\n      this.nbObjects.next(this.nbObjects.getValue() + 2);\n  }\n  loadMoreObjects() : void {\n\t\tthis.nbObjects.next(this.nbObjects.getValue() + 15); \n\t}\ngetMessages(userId1: string,userId2:string): FirebaseListObservable<Message[]>{\nreturn <FirebaseListObservable<Message[]>> this.af.database.list(`/messages/${userId1}-${userId2}`,{\n  query :{\n    orderByChild: 'timestamp',\n    limitToLast : this.nbObjects  //limita o numero de mensagens que ira aparecer na tela\n  }\n}).catch(this.handleObservableError); \n}\ngetAllNotificacoes(userId1: string): FirebaseListObservable<Notificacao[]>{\n  return <FirebaseListObservable<Notificacao[]>> this.af.database.list(`/notifications/${userId1}`,{\n    query :{\n      orderByChild: 'timestamp',\n    }\n  }).catch(this.handleObservableError); \n  }\ngetNotificacoes(userId1: string): FirebaseListObservable<Notificacao[]>{\n  return <FirebaseListObservable<Notificacao[]>> this.af.database.list(`/notifications/${userId1}`,{\n    query :{\n      orderByChild: 'timestamp',\n      limitToLast : this.nbObjects  //limita o numero de mensagens que ira aparecer na tela\n    }\n  }).catch(this.handleObservableError); \n  }\ncreate(message : Message, listMessages : FirebaseListObservable<Message[]>): firebase.Promise<void>{\n  return listMessages.push(message).catch(this.handlePromiseError);\n}\neditNotificacao(notificacao:Notificacao) : firebase.Promise<void>{\n   notificacao.lida = true;\n  return this.af.database.object(`/notifications/${notificacao.userId}/${notificacao.$key}`).update(notificacao).catch(this.handlePromiseError);\n}\ndeleteNotificacao(notificacao:Notificacao) : firebase.Promise<void>{\n return this.af.database.object(`/notifications/${notificacao.userId}`).remove().catch(this.handlePromiseError);\n}\ncreateNotificacao(message : Notificacao, listMessages : FirebaseListObservable<Notificacao[]>): firebase.Promise<void>{\n  return listMessages.push(message).catch(this.handlePromiseError);\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/message/message.service.ts","import { StoryService } from './../../providers/story/story';\nimport { Component } from '@angular/core';\nimport { NavController, NavParams, IonicPage } from 'ionic-angular';\nimport { UserServiceProvider } from '../../providers/user/user.service';\nimport { User } from '../../models/user.model';\n\n/**\n * Generated class for the StoriesListPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-stories-list',\n  templateUrl: 'stories-list.html',\n})\nexport class StoriesListPage {\n  currentUser: User;\n\n  constructor(public userService: UserServiceProvider,public navCtrl: NavController, public navParams: NavParams) {\n  //  this.storyService.getFeed();\n  }\n\n  ionViewWillEnter() {\n   \n  }\n  ionViewDidLoad() {\n    this.userService.currentUser.subscribe(\n      (user: User) => {\n        this.currentUser = user;\n      }\n    );\n   \n    //console.log('ionViewDidLoad SpottedPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stories-list/stories-list.ts","import { Component } from '@angular/core';\nimport {  NavController, NavParams, IonicPage } from 'ionic-angular';\n\n\n\n@Component({\n  selector: 'page-perfil',\n  templateUrl: 'perfil.html',\n})\nexport class PerfilPage {\nusuario:any;\n//public person: {name: string, company: string, birthdate?: number};\ndob: any;\nage: any;\nusuariosperto;\nshowProfile: boolean;\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    this.usuario = navParams.get('usuario');\n    if(navParams.get('usuariosperto') === undefined){}\n    else{\n   if (navParams.get('usuariosperto') < 1){\n   this.usuariosperto = (navParams.get('usuariosperto')*1000).toFixed(0);\n   this.usuariosperto += \" metros\";\n   }\n   else{\n    this.usuariosperto = navParams.get('usuariosperto').toFixed(0);\n    this.usuariosperto +=\" km\";\n   }\n  }\n   console.log(this.usuariosperto);\n    //console.log(this.usuario);\n    /*this.person = {name: undefined, company: undefined, birthdate: undefined};\n    this.dob = undefined;*/\n  }\n\n  ionViewDidLoad() {\n  /*\n    let person = JSON.parse(localStorage.getItem('PERSON'));\n    if (person){\n      this.person = person;\n      this.age = this.getAge(this.person.birthdate);\n      this.dob = new Date(this.person.birthdate).toISOString();\n    }*/\n    //console.log('ionViewDidLoad PerfilPage');\n  }\n\n  /*\n  reset(){\n    this.person = {name: null, company: null, birthdate: null};\n    this.dob = null;\n    this.showProfile = false;\n  }\n\n  save(){\n    this.person.birthdate = new Date(this.dob).getTime();\n    this.age = this.getAge(this.person.birthdate);\n    this.showProfile = true;\n    localStorage.setItem('PERSON', JSON.stringify(this.person));\n  }\n\n  getAge(birthdate){\n    let currentTime = new Date().getTime();\n     return ((currentTime - birthdate)/31556952000).toFixed(0);\n  }\n*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/perfil/perfil.ts"],"sourceRoot":""}